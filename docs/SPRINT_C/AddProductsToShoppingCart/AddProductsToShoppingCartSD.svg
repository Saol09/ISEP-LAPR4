<?xml version="1.0" encoding="UTF-8" standalone="no"?><svg xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" contentStyleType="text/css" height="981px" preserveAspectRatio="none" style="width:1735px;height:981px;background:#FFFFFF;" version="1.1" viewBox="0 0 1735 981" width="1735px" zoomAndPan="magnify"><defs/><g><rect fill="#FFFFFF" height="869.1406" style="stroke:#181818;stroke-width:1.0;" width="10" x="58.5" y="96.2188"/><rect fill="#FFFFFF" height="30.3516" style="stroke:#181818;stroke-width:1.0;" width="10" x="406.5" y="118.5703"/><rect fill="#FFFFFF" height="245.4609" style="stroke:#181818;stroke-width:1.0;" width="10" x="406.5" y="179.2734"/><rect fill="#FFFFFF" height="121.0547" style="stroke:#181818;stroke-width:1.0;" width="10" x="406.5" y="462.0859"/><rect fill="#FFFFFF" height="342.8672" style="stroke:#181818;stroke-width:1.0;" width="10" x="406.5" y="613.4922"/><rect fill="#FFFFFF" height="30.3516" style="stroke:#181818;stroke-width:1.0;" width="10" x="665.5" y="209.625"/><rect fill="#FFFFFF" height="60.3516" style="stroke:#181818;stroke-width:1.0;" width="10" x="665.5" y="492.4375"/><rect fill="#FFFFFF" height="275.1641" style="stroke:#181818;stroke-width:1.0;" width="10" x="665.5" y="643.8438"/><rect fill="#FFFFFF" height="66.3516" style="stroke:#181818;stroke-width:1.0;" width="10" x="836" y="321.0313"/><rect fill="#FFFFFF" height="28" style="stroke:#181818;stroke-width:1.0;" width="10" x="841" y="359.3828"/><rect fill="#FFFFFF" height="177.1094" style="stroke:#181818;stroke-width:1.0;" width="10" x="976" y="674.1953"/><rect fill="#FFFFFF" height="146.7578" style="stroke:#181818;stroke-width:1.0;" width="10" x="1174" y="704.5469"/><rect fill="#FFFFFF" height="30" style="stroke:#181818;stroke-width:1.0;" width="10" x="1310.5" y="522.7891"/><rect fill="#FFFFFF" height="81.0547" style="stroke:#181818;stroke-width:1.0;" width="10" x="1453.5" y="239.9766"/><rect fill="#FFFFFF" height="146.7578" style="stroke:#181818;stroke-width:1.0;" width="10" x="1619.5" y="734.8984"/><rect height="672.0313" style="stroke:#000000;stroke-width:1.5;fill:none;" width="1719" x="10" y="254.9766"/><rect height="152.4063" style="stroke:#000000;stroke-width:1.5;fill:none;" width="915" x="20" y="280.3281"/><rect height="139.7578" style="stroke:#000000;stroke-width:1.5;fill:none;" width="1399.5" x="319.5" y="749.8984"/><line style="stroke:#181818;stroke-width:0.5;fill:none;stroke-dasharray:5.0,5.0;" x1="63" x2="63" y1="86.2188" y2="974.3594"/><line style="stroke:#181818;stroke-width:0.5;fill:none;stroke-dasharray:5.0,5.0;" x1="411.5" x2="411.5" y1="86.2188" y2="974.3594"/><line style="stroke:#181818;stroke-width:0.5;fill:none;stroke-dasharray:5.0,5.0;" x1="670" x2="670" y1="86.2188" y2="974.3594"/><line style="stroke:#181818;stroke-width:0.5;fill:none;stroke-dasharray:5.0,5.0;" x1="841" x2="841" y1="86.2188" y2="974.3594"/><line style="stroke:#181818;stroke-width:0.5;fill:none;stroke-dasharray:5.0,5.0;" x1="981" x2="981" y1="86.2188" y2="974.3594"/><line style="stroke:#181818;stroke-width:0.5;fill:none;stroke-dasharray:5.0,5.0;" x1="1179" x2="1179" y1="86.2188" y2="974.3594"/><line style="stroke:#181818;stroke-width:0.5;fill:none;stroke-dasharray:5.0,5.0;" x1="1315" x2="1315" y1="86.2188" y2="974.3594"/><line style="stroke:#181818;stroke-width:0.5;fill:none;stroke-dasharray:5.0,5.0;" x1="1458" x2="1458" y1="86.2188" y2="974.3594"/><line style="stroke:#181818;stroke-width:0.5;fill:none;stroke-dasharray:5.0,5.0;" x1="1624" x2="1624" y1="86.2188" y2="974.3594"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="61" x="30" y="83.1426">Customer</text><ellipse cx="63.5" cy="17.1094" fill="#E2E2F0" rx="8" ry="8" style="stroke:#181818;stroke-width:0.5;"/><path d="M63.5,25.1094 L63.5,52.1094 M50.5,33.1094 L76.5,33.1094 M63.5,52.1094 L50.5,67.1094 M63.5,52.1094 L76.5,67.1094 " fill="none" style="stroke:#181818;stroke-width:0.5;"/><rect fill="#E2E2F0" height="31.6094" rx="2.5" ry="2.5" style="stroke:#181818;stroke-width:0.5;" width="164" x="329.5" y="53.6094"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="150" x="336.5" y="75.1426">: CreateShoppingCartUI</text><rect fill="#E2E2F0" height="31.6094" rx="2.5" ry="2.5" style="stroke:#181818;stroke-width:0.5;" width="197" x="572" y="53.6094"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="183" x="579" y="75.1426">: NewShoppingCartController</text><rect fill="#E2E2F0" height="31.6094" rx="2.5" ry="2.5" style="stroke:#181818;stroke-width:0.5;" width="124" x="779" y="53.6094"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="110" x="786" y="75.1426">ProductCatalogUI</text><text fill="#000000" font-family="sans-serif" font-size="14" font-style="italic" lengthAdjust="spacing" textLength="79" x="938.5" y="65.5332">«repository»</text><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="130" x="913" y="83.1426">: PersistanceContext</text><path d="M963,15 C963,5 981,5 981,5 C981,5 999,5 999,15 L999,41 C999,51 981,51 981,51 C981,51 963,51 963,41 L963,15 " fill="#E2E2F0" style="stroke:#181818;stroke-width:1.5;"/><path d="M963,15 C963,25 981,25 981,25 C981,25 999,25 999,15 " fill="none" style="stroke:#181818;stroke-width:1.5;"/><text fill="#000000" font-family="sans-serif" font-size="14" font-style="italic" lengthAdjust="spacing" textLength="59" x="1146.5" y="65.5332">«factory»</text><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="124" x="1114" y="83.1426">: RepositoryFactory</text><path d="M1161,15 C1161,5 1179,5 1179,5 C1179,5 1197,5 1197,15 L1197,41 C1197,51 1179,51 1179,51 C1179,51 1161,51 1161,41 L1161,15 " fill="#E2E2F0" style="stroke:#181818;stroke-width:1.5;"/><path d="M1161,15 C1161,25 1179,25 1179,25 C1179,25 1197,25 1197,15 " fill="none" style="stroke:#181818;stroke-width:1.5;"/><text fill="#000000" font-family="sans-serif" font-size="14" font-style="italic" lengthAdjust="spacing" textLength="79" x="1273" y="65.5332">«repository»</text><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="117" x="1254" y="83.1426">ProductRepository</text><path d="M1297.5,15 C1297.5,5 1315.5,5 1315.5,5 C1315.5,5 1333.5,5 1333.5,15 L1333.5,41 C1333.5,51 1315.5,51 1315.5,51 C1315.5,51 1297.5,51 1297.5,41 L1297.5,15 " fill="#E2E2F0" style="stroke:#181818;stroke-width:1.5;"/><path d="M1297.5,15 C1297.5,25 1315.5,25 1315.5,25 C1315.5,25 1333.5,25 1333.5,15 " fill="none" style="stroke:#181818;stroke-width:1.5;"/><text fill="#000000" font-family="sans-serif" font-size="14" font-style="italic" lengthAdjust="spacing" textLength="79" x="1416" y="65.5332">«repository»</text><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="137" x="1387" y="83.1426">: CostumerRepository</text><path d="M1440.5,15 C1440.5,5 1458.5,5 1458.5,5 C1458.5,5 1476.5,5 1476.5,15 L1476.5,41 C1476.5,51 1458.5,51 1458.5,51 C1458.5,51 1440.5,51 1440.5,41 L1440.5,15 " fill="#E2E2F0" style="stroke:#181818;stroke-width:1.5;"/><path d="M1440.5,15 C1440.5,25 1458.5,25 1458.5,25 C1458.5,25 1476.5,25 1476.5,15 " fill="none" style="stroke:#181818;stroke-width:1.5;"/><text fill="#000000" font-family="sans-serif" font-size="14" font-style="italic" lengthAdjust="spacing" textLength="79" x="1582" y="65.5332">«repository»</text><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="163" x="1540" y="83.1426">: ShoppingCartRepository</text><path d="M1606.5,15 C1606.5,5 1624.5,5 1624.5,5 C1624.5,5 1642.5,5 1642.5,15 L1642.5,41 C1642.5,51 1624.5,51 1624.5,51 C1624.5,51 1606.5,51 1606.5,41 L1606.5,15 " fill="#E2E2F0" style="stroke:#181818;stroke-width:1.5;"/><path d="M1606.5,15 C1606.5,25 1624.5,25 1624.5,25 C1624.5,25 1642.5,25 1642.5,15 " fill="none" style="stroke:#181818;stroke-width:1.5;"/><rect fill="#FFFFFF" height="869.1406" style="stroke:#181818;stroke-width:1.0;" width="10" x="58.5" y="96.2188"/><rect fill="#FFFFFF" height="30.3516" style="stroke:#181818;stroke-width:1.0;" width="10" x="406.5" y="118.5703"/><rect fill="#FFFFFF" height="245.4609" style="stroke:#181818;stroke-width:1.0;" width="10" x="406.5" y="179.2734"/><rect fill="#FFFFFF" height="121.0547" style="stroke:#181818;stroke-width:1.0;" width="10" x="406.5" y="462.0859"/><rect fill="#FFFFFF" height="342.8672" style="stroke:#181818;stroke-width:1.0;" width="10" x="406.5" y="613.4922"/><rect fill="#FFFFFF" height="30.3516" style="stroke:#181818;stroke-width:1.0;" width="10" x="665.5" y="209.625"/><rect fill="#FFFFFF" height="60.3516" style="stroke:#181818;stroke-width:1.0;" width="10" x="665.5" y="492.4375"/><rect fill="#FFFFFF" height="275.1641" style="stroke:#181818;stroke-width:1.0;" width="10" x="665.5" y="643.8438"/><rect fill="#FFFFFF" height="66.3516" style="stroke:#181818;stroke-width:1.0;" width="10" x="836" y="321.0313"/><rect fill="#FFFFFF" height="28" style="stroke:#181818;stroke-width:1.0;" width="10" x="841" y="359.3828"/><rect fill="#FFFFFF" height="177.1094" style="stroke:#181818;stroke-width:1.0;" width="10" x="976" y="674.1953"/><rect fill="#FFFFFF" height="146.7578" style="stroke:#181818;stroke-width:1.0;" width="10" x="1174" y="704.5469"/><rect fill="#FFFFFF" height="30" style="stroke:#181818;stroke-width:1.0;" width="10" x="1310.5" y="522.7891"/><rect fill="#FFFFFF" height="81.0547" style="stroke:#181818;stroke-width:1.0;" width="10" x="1453.5" y="239.9766"/><rect fill="#FFFFFF" height="146.7578" style="stroke:#181818;stroke-width:1.0;" width="10" x="1619.5" y="734.8984"/><polygon fill="#181818" points="394.5,114.5703,404.5,118.5703,394.5,122.5703,398.5,118.5703" style="stroke:#181818;stroke-width:1.0;"/><line style="stroke:#181818;stroke-width:1.0;" x1="68.5" x2="400.5" y1="118.5703" y2="118.5703"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacing" textLength="7" x="75.5" y="113.7139">1</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="246" x="86.5" y="113.7139">starts to add products to the shopping cart</text><polygon fill="#181818" points="79.5,144.9219,69.5,148.9219,79.5,152.9219,75.5,148.9219" style="stroke:#181818;stroke-width:1.0;"/><line style="stroke:#181818;stroke-width:1.0;stroke-dasharray:2.0,2.0;" x1="73.5" x2="410.5" y1="148.9219" y2="148.9219"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacing" textLength="7" x="85.5" y="144.0654">2</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="303" x="96.5" y="144.0654">asks if the costumer wants to check product catalog</text><polygon fill="#181818" points="394.5,175.2734,404.5,179.2734,394.5,183.2734,398.5,179.2734" style="stroke:#181818;stroke-width:1.0;"/><line style="stroke:#181818;stroke-width:1.0;" x1="68.5" x2="400.5" y1="179.2734" y2="179.2734"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacing" textLength="7" x="75.5" y="174.417">3</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="307" x="86.5" y="174.417">chooses if he wants to see or not the product catalog</text><polygon fill="#181818" points="653.5,205.625,663.5,209.625,653.5,213.625,657.5,209.625" style="stroke:#181818;stroke-width:1.0;"/><line style="stroke:#181818;stroke-width:1.0;" x1="416.5" x2="659.5" y1="209.625" y2="209.625"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacing" textLength="7" x="423.5" y="204.7686">4</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="131" x="434.5" y="204.7686">findCostumerBy(email)</text><polygon fill="#181818" points="1441.5,235.9766,1451.5,239.9766,1441.5,243.9766,1445.5,239.9766" style="stroke:#181818;stroke-width:1.0;"/><line style="stroke:#181818;stroke-width:1.0;" x1="670.5" x2="1447.5" y1="239.9766" y2="239.9766"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacing" textLength="7" x="677.5" y="235.1201">5</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="164" x="688.5" y="235.1201">findCostumerByEmail(email)</text><path d="M10,254.9766 L83,254.9766 L83,263.3281 L73,273.3281 L10,273.3281 L10,254.9766 " fill="#EEEEEE" style="stroke:#000000;stroke-width:1.5;"/><rect fill="none" height="672.0313" style="stroke:#000000;stroke-width:1.5;" width="1719" x="10" y="254.9766"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacing" textLength="28" x="25" y="269.4717">loop</text><text fill="#000000" font-family="sans-serif" font-size="11" font-weight="bold" lengthAdjust="spacing" textLength="182" x="98" y="268.3955">[While he wants to add products]</text><path d="M20,280.3281 L81,280.3281 L81,288.6797 L71,298.6797 L20,298.6797 L20,280.3281 " fill="#EEEEEE" style="stroke:#000000;stroke-width:1.5;"/><rect fill="none" height="152.4063" style="stroke:#000000;stroke-width:1.5;" width="915" x="20" y="280.3281"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacing" textLength="16" x="35" y="294.8232">alt</text><text fill="#000000" font-family="sans-serif" font-size="11" font-weight="bold" lengthAdjust="spacing" textLength="181" x="96" y="293.7471">[In case he wants to see catalog]</text><polygon fill="#181818" points="824,317.0313,834,321.0313,824,325.0313,828,321.0313" style="stroke:#181818;stroke-width:1.0;"/><line style="stroke:#181818;stroke-width:1.0;" x1="416.5" x2="830" y1="321.0313" y2="321.0313"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacing" textLength="7" x="423.5" y="316.1748">6</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="151" x="434.5" y="316.1748">SearchProductsUI::show()</text><line style="stroke:#181818;stroke-width:1.0;" x1="851" x2="893" y1="351.3828" y2="351.3828"/><line style="stroke:#181818;stroke-width:1.0;" x1="893" x2="893" y1="351.3828" y2="364.3828"/><line style="stroke:#181818;stroke-width:1.0;" x1="852" x2="893" y1="364.3828" y2="364.3828"/><polygon fill="#181818" points="862,360.3828,852,364.3828,862,368.3828,858,364.3828" style="stroke:#181818;stroke-width:1.0;"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacing" textLength="7" x="858" y="346.5264">7</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="54" x="869" y="346.5264">doShow()</text><polygon fill="#181818" points="79.5,420.7344,69.5,424.7344,79.5,428.7344,75.5,424.7344" style="stroke:#181818;stroke-width:1.0;"/><line style="stroke:#181818;stroke-width:1.0;stroke-dasharray:2.0,2.0;" x1="73.5" x2="410.5" y1="424.7344" y2="424.7344"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacing" textLength="7" x="85.5" y="419.8779">8</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="259" x="96.5" y="419.8779">Shows the products and requests product id.</text><polygon fill="#181818" points="394.5,458.0859,404.5,462.0859,394.5,466.0859,398.5,462.0859" style="stroke:#181818;stroke-width:1.0;"/><line style="stroke:#181818;stroke-width:1.0;" x1="68.5" x2="400.5" y1="462.0859" y2="462.0859"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacing" textLength="7" x="75.5" y="457.2295">9</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="100" x="86.5" y="457.2295">Inserts product id</text><polygon fill="#181818" points="653.5,488.4375,663.5,492.4375,653.5,496.4375,657.5,492.4375" style="stroke:#181818;stroke-width:1.0;"/><line style="stroke:#181818;stroke-width:1.0;" x1="416.5" x2="659.5" y1="492.4375" y2="492.4375"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacing" textLength="14" x="423.5" y="487.5811">10</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="153" x="441.5" y="487.5811">checkProductId(productID)</text><polygon fill="#181818" points="1298.5,518.7891,1308.5,522.7891,1298.5,526.7891,1302.5,522.7891" style="stroke:#181818;stroke-width:1.0;"/><line style="stroke:#181818;stroke-width:1.0;" x1="675.5" x2="1304.5" y1="522.7891" y2="522.7891"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacing" textLength="14" x="682.5" y="517.9326">11</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="153" x="700.5" y="517.9326">checkProductId(productID)</text><polygon fill="#181818" points="79.5,579.1406,69.5,583.1406,79.5,587.1406,75.5,583.1406" style="stroke:#181818;stroke-width:1.0;"/><line style="stroke:#181818;stroke-width:1.0;stroke-dasharray:2.0,2.0;" x1="73.5" x2="410.5" y1="583.1406" y2="583.1406"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacing" textLength="14" x="85.5" y="578.2842">12</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="105" x="103.5" y="578.2842">Requests quantity</text><polygon fill="#181818" points="394.5,609.4922,404.5,613.4922,394.5,617.4922,398.5,613.4922" style="stroke:#181818;stroke-width:1.0;"/><line style="stroke:#181818;stroke-width:1.0;" x1="68.5" x2="400.5" y1="613.4922" y2="613.4922"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacing" textLength="14" x="75.5" y="608.6357">13</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="89" x="93.5" y="608.6357">Inserts quantity</text><polygon fill="#181818" points="653.5,639.8438,663.5,643.8438,653.5,647.8438,657.5,643.8438" style="stroke:#181818;stroke-width:1.0;"/><line style="stroke:#181818;stroke-width:1.0;" x1="416.5" x2="659.5" y1="643.8438" y2="643.8438"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacing" textLength="14" x="423.5" y="638.9873">14</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="212" x="441.5" y="638.9873">createShoppingCart(custumer,items)</text><polygon fill="#181818" points="964,670.1953,974,674.1953,964,678.1953,968,674.1953" style="stroke:#181818;stroke-width:1.0;"/><line style="stroke:#181818;stroke-width:1.0;" x1="675.5" x2="970" y1="674.1953" y2="674.1953"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacing" textLength="14" x="682.5" y="669.3389">15</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="220" x="700.5" y="669.3389">repoShoppingCart = repositoryFactory</text><polygon fill="#181818" points="1162,700.5469,1172,704.5469,1162,708.5469,1166,704.5469" style="stroke:#181818;stroke-width:1.0;"/><line style="stroke:#181818;stroke-width:1.0;" x1="986" x2="1168" y1="704.5469" y2="704.5469"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacing" textLength="14" x="993" y="699.6904">16</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="146" x="1011" y="699.6904">shoppingCartRepository()</text><polygon fill="#181818" points="1607.5,730.8984,1617.5,734.8984,1607.5,738.8984,1611.5,734.8984" style="stroke:#181818;stroke-width:1.0;"/><line style="stroke:#181818;stroke-width:1.0;" x1="675.5" x2="1613.5" y1="734.8984" y2="734.8984"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacing" textLength="14" x="682.5" y="730.042">17</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="110" x="700.5" y="730.042">save(shoppingCart)</text><path d="M319.5,749.8984 L380.5,749.8984 L380.5,758.25 L370.5,768.25 L319.5,768.25 L319.5,749.8984 " fill="#EEEEEE" style="stroke:#000000;stroke-width:1.5;"/><rect fill="none" height="139.7578" style="stroke:#000000;stroke-width:1.5;" width="1399.5" x="319.5" y="749.8984"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacing" textLength="16" x="334.5" y="764.3936">alt</text><text fill="#000000" font-family="sans-serif" font-size="11" font-weight="bold" lengthAdjust="spacing" textLength="530" x="395.5" y="763.3174">[In case the customer wants to add products that have been already added to the shopping cart]</text><polygon fill="#181818" points="653.5,786.6016,663.5,790.6016,653.5,794.6016,657.5,790.6016" style="stroke:#181818;stroke-width:1.0;"/><line style="stroke:#181818;stroke-width:1.0;" x1="416.5" x2="659.5" y1="790.6016" y2="790.6016"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacing" textLength="14" x="423.5" y="785.7451">18</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="167" x="441.5" y="785.7451">addProducts(customer,items</text><polygon fill="#181818" points="964,816.9531,974,820.9531,964,824.9531,968,820.9531" style="stroke:#181818;stroke-width:1.0;"/><line style="stroke:#181818;stroke-width:1.0;" x1="675.5" x2="970" y1="820.9531" y2="820.9531"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacing" textLength="14" x="682.5" y="816.0967">19</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="220" x="700.5" y="816.0967">repoShoppingCart = repositoryFactory</text><polygon fill="#181818" points="1167,847.3047,1177,851.3047,1167,855.3047,1171,851.3047" style="stroke:#181818;stroke-width:1.0;"/><line style="stroke:#181818;stroke-width:1.0;" x1="981" x2="1173" y1="851.3047" y2="851.3047"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacing" textLength="14" x="988" y="846.4482">20</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="146" x="1006" y="846.4482">shoppingCartRepository()</text><polygon fill="#181818" points="1612.5,877.6563,1622.5,881.6563,1612.5,885.6563,1616.5,881.6563" style="stroke:#181818;stroke-width:1.0;"/><line style="stroke:#181818;stroke-width:1.0;" x1="675.5" x2="1618.5" y1="881.6563" y2="881.6563"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacing" textLength="14" x="682.5" y="876.7998">21</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="110" x="700.5" y="876.7998">save(shoppingCart)</text><polygon fill="#181818" points="658.5,915.0078,668.5,919.0078,658.5,923.0078,662.5,919.0078" style="stroke:#181818;stroke-width:1.0;"/><line style="stroke:#181818;stroke-width:1.0;" x1="416.5" x2="664.5" y1="919.0078" y2="919.0078"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacing" textLength="14" x="423.5" y="914.1514">22</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="53" x="441.5" y="914.1514">showAll()</text><polygon fill="#181818" points="79.5,952.3594,69.5,956.3594,79.5,960.3594,75.5,956.3594" style="stroke:#181818;stroke-width:1.0;"/><line style="stroke:#181818;stroke-width:1.0;stroke-dasharray:2.0,2.0;" x1="73.5" x2="410.5" y1="956.3594" y2="956.3594"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacing" textLength="14" x="85.5" y="951.5029">23</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="238" x="103.5" y="951.5029">Shows to the customer the shopping cart</text><!--MD5=[c71c4090b70b4098cad3fe4bd3d39694]
@startuml
'https://plantuml.com/sequence-diagram

autonumber
hide footbox

actor "Customer" as ator
participant ": CreateShoppingCartUI" as cartUI
participant ": NewShoppingCartController" as cartCtlr
participant ProductCatalogUI as ProductCatalogUI
database ": PersistanceContext" as persis <<repository>>
database ": RepositoryFactory" as factory <<factory>>
database ProductRepository as productRepository <<repository>>
database ": CostumerRepository" as costumerRepository <<repository>>
database ": ShoppingCartRepository" as cartRepo <<repository>>

activate ator
ator -> cartUI: starts to add products to the shopping cart
activate cartUI
cartUI - -> ator: asks if the costumer wants to check product catalog
deactivate cartUI
ator -> cartUI: chooses if he wants to see or not the product catalog
activate cartUI

cartUI -> cartCtlr: findCostumerBy(email)
activate cartCtlr
cartCtlr -> costumerRepository : findCostumerByEmail(email)
deactivate cartCtlr
activate costumerRepository

loop While he wants to add products
    alt In case he wants to see catalog

        cartUI -> ProductCatalogUI : SearchProductsUI::show()
         deactivate costumerRepository
        activate ProductCatalogUI
        ProductCatalogUI -> ProductCatalogUI: doShow()
        activate ProductCatalogUI
        deactivate ProductCatalogUI
        deactivate ProductCatalogUI
        cartUI - ->ator: Shows the products and requests product id.
        deactivate cartUI
    end alt
    ator -> cartUI: Inserts product id
    activate cartUI
    cartUI -> cartCtlr: checkProductId(productID)
    activate cartCtlr
    cartCtlr -> productRepository: checkProductId(productID)
    activate productRepository
    deactivate productRepository
    deactivate cartCtlr
    cartUI - -> ator: Requests quantity
    deactivate cartUI
    ator -> cartUI: Inserts quantity
    activate cartUI



cartUI -> cartCtlr : createShoppingCart(custumer,items)
activate cartCtlr
cartCtlr -> persis : repoShoppingCart = repositoryFactory
activate persis
persis -> factory : shoppingCartRepository()
activate factory
cartCtlr -> cartRepo : save(shoppingCart)
activate cartRepo

    alt In case the customer wants to add products that have been already added to the shopping cart
        cartUI -> cartCtlr: addProducts(customer,items
        cartCtlr -> persis : repoShoppingCart = repositoryFactory
        persis -> factory : shoppingCartRepository()
        deactivate persis
        deactivate factory
        cartCtlr -> cartRepo : save(shoppingCart)
        deactivate cartRepo
    end alt

cartUI -> cartCtlr : showAll()
deactivate cartCtlr

end
cartUI - -> ator : Shows to the customer the shopping cart
deactivate cartUI

@enduml

@startuml

autonumber
hide footbox

actor "Customer" as ator
participant ": CreateShoppingCartUI" as cartUI
participant ": NewShoppingCartController" as cartCtlr
participant ProductCatalogUI as ProductCatalogUI
database ": PersistanceContext" as persis <<repository>>
database ": RepositoryFactory" as factory <<factory>>
database ProductRepository as productRepository <<repository>>
database ": CostumerRepository" as costumerRepository <<repository>>
database ": ShoppingCartRepository" as cartRepo <<repository>>

activate ator
ator -> cartUI: starts to add products to the shopping cart
activate cartUI
cartUI - -> ator: asks if the costumer wants to check product catalog
deactivate cartUI
ator -> cartUI: chooses if he wants to see or not the product catalog
activate cartUI

cartUI -> cartCtlr: findCostumerBy(email)
activate cartCtlr
cartCtlr -> costumerRepository : findCostumerByEmail(email)
deactivate cartCtlr
activate costumerRepository

loop While he wants to add products
    alt In case he wants to see catalog

        cartUI -> ProductCatalogUI : SearchProductsUI::show()
         deactivate costumerRepository
        activate ProductCatalogUI
        ProductCatalogUI -> ProductCatalogUI: doShow()
        activate ProductCatalogUI
        deactivate ProductCatalogUI
        deactivate ProductCatalogUI
        cartUI - ->ator: Shows the products and requests product id.
        deactivate cartUI
    end alt
    ator -> cartUI: Inserts product id
    activate cartUI
    cartUI -> cartCtlr: checkProductId(productID)
    activate cartCtlr
    cartCtlr -> productRepository: checkProductId(productID)
    activate productRepository
    deactivate productRepository
    deactivate cartCtlr
    cartUI - -> ator: Requests quantity
    deactivate cartUI
    ator -> cartUI: Inserts quantity
    activate cartUI



cartUI -> cartCtlr : createShoppingCart(custumer,items)
activate cartCtlr
cartCtlr -> persis : repoShoppingCart = repositoryFactory
activate persis
persis -> factory : shoppingCartRepository()
activate factory
cartCtlr -> cartRepo : save(shoppingCart)
activate cartRepo

    alt In case the customer wants to add products that have been already added to the shopping cart
        cartUI -> cartCtlr: addProducts(customer,items
        cartCtlr -> persis : repoShoppingCart = repositoryFactory
        persis -> factory : shoppingCartRepository()
        deactivate persis
        deactivate factory
        cartCtlr -> cartRepo : save(shoppingCart)
        deactivate cartRepo
    end alt

cartUI -> cartCtlr : showAll()
deactivate cartCtlr

end
cartUI - -> ator : Shows to the customer the shopping cart
deactivate cartUI

@enduml

PlantUML version 1.2022.5(Sat Apr 30 11:55:52 BST 2022)
(GPL source distribution)
Java Runtime: OpenJDK Runtime Environment
JVM: OpenJDK 64-Bit Server VM
Default Encoding: Cp1252
Language: pt
Country: PT
--></g></svg>