<?xml version="1.0" encoding="UTF-8" standalone="no"?><svg xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" contentStyleType="text/css" height="2052px" preserveAspectRatio="none" style="width:2227px;height:2052px;background:#FFFFFF;" version="1.1" viewBox="0 0 2227 2052" width="2227.2px" zoomAndPan="magnify"><defs/><g><rect fill="#FFFFFF" height="417.75" style="stroke:#181818;stroke-width:1.2;" width="12" x="377.4" y="137.9531"/><rect fill="#FFFFFF" height="417.75" style="stroke:#181818;stroke-width:1.2;" width="12" x="377.4" y="592.125"/><rect fill="#FFFFFF" height="886.725" style="stroke:#181818;stroke-width:1.2;" width="12" x="377.4" y="1046.2969"/><rect fill="#FFFFFF" height="344.9063" style="stroke:#181818;stroke-width:1.2;" width="12" x="738.6" y="174.375"/><rect fill="#FFFFFF" height="344.9063" style="stroke:#181818;stroke-width:1.2;" width="12" x="738.6" y="628.5469"/><rect fill="#FFFFFF" height="861.1031" style="stroke:#181818;stroke-width:1.2;" width="12" x="738.6" y="1082.7188"/><rect fill="#FFFFFF" height="272.0625" style="stroke:#181818;stroke-width:1.2;" width="12" x="1093.8" y="210.7969"/><rect fill="#FFFFFF" height="272.0625" style="stroke:#181818;stroke-width:1.2;" width="12" x="1093.8" y="664.9688"/><rect fill="#FFFFFF" height="741.0375" style="stroke:#181818;stroke-width:1.2;" width="12" x="1093.8" y="1119.1406"/><rect fill="#FFFFFF" height="36.4219" style="stroke:#181818;stroke-width:1.2;" width="12" x="1310.4" y="247.2188"/><rect fill="#FFFFFF" height="36.4219" style="stroke:#181818;stroke-width:1.2;" width="12" x="1310.4" y="1228.4063"/><rect fill="#FFFFFF" height="36" style="stroke:#181818;stroke-width:1.2;" width="12" x="1310.4" y="1590.9375"/><rect fill="#FFFFFF" height="87.5531" style="stroke:#181818;stroke-width:1.2;" width="12" x="1483.2" y="350.4844"/><rect fill="#FFFFFF" height="36" style="stroke:#181818;stroke-width:1.2;" width="12" x="1483.2" y="1446.0938"/><rect fill="#FFFFFF" height="36.4219" style="stroke:#181818;stroke-width:1.2;" width="12" x="1860" y="701.3906"/><rect fill="#FFFFFF" height="36.4219" style="stroke:#181818;stroke-width:1.2;" width="12" x="1860" y="1155.5625"/><rect fill="#FFFFFF" height="36" style="stroke:#181818;stroke-width:1.2;" width="12" x="1860" y="1518.5156"/><rect fill="#FFFFFF" height="36.4219" style="stroke:#181818;stroke-width:1.2;" width="12" x="1860" y="1663.3594"/><rect fill="#FFFFFF" height="87.5531" style="stroke:#181818;stroke-width:1.2;" width="12" x="2015.4" y="804.6563"/><rect fill="#FFFFFF" height="36" style="stroke:#181818;stroke-width:1.2;" width="12" x="2015.4" y="1301.25"/><rect fill="#FFFFFF" height="36" style="stroke:#181818;stroke-width:1.2;" width="12" x="2015.4" y="1373.6719"/><rect fill="#FFFFFF" height="87.5531" style="stroke:#181818;stroke-width:1.2;" width="12" x="2015.4" y="1736.2031"/><rect height="145.9969" style="stroke:#000000;stroke-width:1.7999999999999998;fill:none;" width="764.4" x="984" y="301.6406"/><rect height="145.9969" style="stroke:#000000;stroke-width:1.7999999999999998;fill:none;" width="1236.6" x="984" y="755.8125"/><line style="stroke:#181818;stroke-width:0.6;fill:none;stroke-dasharray:5.0,5.0;" x1="90" x2="90" y1="99.1313" y2="1954.6219"/><line style="stroke:#181818;stroke-width:0.6;fill:none;stroke-dasharray:5.0,5.0;" x1="383.4" x2="383.4" y1="99.1313" y2="1954.6219"/><line style="stroke:#181818;stroke-width:0.6;fill:none;stroke-dasharray:5.0,5.0;" x1="744.6" x2="744.6" y1="99.1313" y2="1954.6219"/><line style="stroke:#181818;stroke-width:0.6;fill:none;stroke-dasharray:5.0,5.0;" x1="1099.2" x2="1099.2" y1="99.1313" y2="1954.6219"/><line style="stroke:#181818;stroke-width:0.6;fill:none;stroke-dasharray:5.0,5.0;" x1="1316.4" x2="1316.4" y1="99.1313" y2="1954.6219"/><line style="stroke:#181818;stroke-width:0.6;fill:none;stroke-dasharray:5.0,5.0;" x1="1489.2" x2="1489.2" y1="99.1313" y2="1954.6219"/><line style="stroke:#181818;stroke-width:0.6;fill:none;stroke-dasharray:5.0,5.0;" x1="1658.4" x2="1658.4" y1="397.65" y2="1954.6219"/><line style="stroke:#181818;stroke-width:0.6;fill:none;stroke-dasharray:5.0,5.0;" x1="1866" x2="1866" y1="99.1313" y2="1954.6219"/><line style="stroke:#181818;stroke-width:0.6;fill:none;stroke-dasharray:5.0,5.0;" x1="2020.8" x2="2020.8" y1="99.1313" y2="1954.6219"/><line style="stroke:#181818;stroke-width:0.6;fill:none;stroke-dasharray:5.0,5.0;" x1="2164.2" x2="2164.2" y1="1783.3687" y2="1954.6219"/><text fill="#000000" font-family="sans-serif" font-size="16.8" lengthAdjust="spacing" textLength="162" x="6" y="95.4398">WarehouseEmployee</text><ellipse cx="90.6" cy="16.2" fill="#E2E2F0" rx="9.6" ry="9.6" style="stroke:#181818;stroke-width:0.6;"/><path d="M90.6,25.8 L90.6,58.2 M75,35.4 L106.2,35.4 M90.6,58.2 L75,76.2 M90.6,58.2 L106.2,76.2 " fill="none" style="stroke:#181818;stroke-width:0.6;"/><text fill="#000000" font-family="sans-serif" font-size="16.8" lengthAdjust="spacing" textLength="162" x="6" y="1970.8617">WarehouseEmployee</text><ellipse cx="90.6" cy="1984.7531" fill="#E2E2F0" rx="9.6" ry="9.6" style="stroke:#181818;stroke-width:0.6;"/><path d="M90.6,1994.3531 L90.6,2026.7531 M75,2003.9531 L106.2,2003.9531 M90.6,2026.7531 L75,2044.7531 M90.6,2026.7531 L106.2,2044.7531 " fill="none" style="stroke:#181818;stroke-width:0.6;"/><rect fill="#E2E2F0" height="37.9313" rx="3" ry="3" style="stroke:#181818;stroke-width:0.6;" width="165.6" x="300.6" y="60"/><text fill="#000000" font-family="sans-serif" font-size="16.8" lengthAdjust="spacing" textLength="148.8" x="309" y="85.8398">GiveOrderToAGVUI</text><rect fill="#E2E2F0" height="37.9313" rx="3" ry="3" style="stroke:#181818;stroke-width:0.6;" width="165.6" x="300.6" y="1953.4219"/><text fill="#000000" font-family="sans-serif" font-size="16.8" lengthAdjust="spacing" textLength="148.8" x="309" y="1979.2617">GiveOrderToAGVUI</text><rect fill="#E2E2F0" height="37.9313" rx="3" ry="3" style="stroke:#181818;stroke-width:0.6;" width="225.6" x="631.8" y="60"/><text fill="#000000" font-family="sans-serif" font-size="16.8" lengthAdjust="spacing" textLength="208.8" x="640.2" y="85.8398">GiveOrderToAGVController</text><rect fill="#E2E2F0" height="37.9313" rx="3" ry="3" style="stroke:#181818;stroke-width:0.6;" width="225.6" x="631.8" y="1953.4219"/><text fill="#000000" font-family="sans-serif" font-size="16.8" lengthAdjust="spacing" textLength="208.8" x="640.2" y="1979.2617">GiveOrderToAGVController</text><rect fill="#E2E2F0" height="37.9313" rx="3" ry="3" style="stroke:#181818;stroke-width:0.6;" width="207.6" x="996" y="60"/><text fill="#000000" font-family="sans-serif" font-size="16.8" lengthAdjust="spacing" textLength="190.8" x="1004.4" y="85.8398">GiveOrderToAGVService</text><rect fill="#E2E2F0" height="37.9313" rx="3" ry="3" style="stroke:#181818;stroke-width:0.6;" width="207.6" x="996" y="1953.4219"/><text fill="#000000" font-family="sans-serif" font-size="16.8" lengthAdjust="spacing" textLength="190.8" x="1004.4" y="1979.2617">GiveOrderToAGVService</text><rect fill="#E2E2F0" height="37.9313" rx="3" ry="3" style="stroke:#181818;stroke-width:0.6;" width="201.6" x="1215.6" y="60"/><text fill="#000000" font-family="sans-serif" font-size="16.8" lengthAdjust="spacing" textLength="184.8" x="1224" y="85.8398">ProductOrderRepository</text><rect fill="#E2E2F0" height="37.9313" rx="3" ry="3" style="stroke:#181818;stroke-width:0.6;" width="201.6" x="1215.6" y="1953.4219"/><text fill="#000000" font-family="sans-serif" font-size="16.8" lengthAdjust="spacing" textLength="184.8" x="1224" y="1979.2617">ProductOrderRepository</text><rect fill="#E2E2F0" height="37.9313" rx="3" ry="3" style="stroke:#181818;stroke-width:0.6;" width="120" x="1429.2" y="60"/><text fill="#000000" font-family="sans-serif" font-size="16.8" lengthAdjust="spacing" textLength="103.2" x="1437.6" y="85.8398">ProductOrder</text><rect fill="#E2E2F0" height="37.9313" rx="3" ry="3" style="stroke:#181818;stroke-width:0.6;" width="120" x="1429.2" y="1953.4219"/><text fill="#000000" font-family="sans-serif" font-size="16.8" lengthAdjust="spacing" textLength="103.2" x="1437.6" y="1979.2617">ProductOrder</text><rect fill="#E2E2F0" height="37.9313" rx="3" ry="3" style="stroke:#181818;stroke-width:0.6;" width="156" x="1580.4" y="1953.4219"/><text fill="#000000" font-family="sans-serif" font-size="16.8" lengthAdjust="spacing" textLength="139.2" x="1588.8" y="1979.2617">ProductOrderDTO</text><rect fill="#E2E2F0" height="37.9313" rx="3" ry="3" style="stroke:#181818;stroke-width:0.6;" width="235.2" x="1748.4" y="60"/><text fill="#000000" font-family="sans-serif" font-size="16.8" lengthAdjust="spacing" textLength="218.4" x="1756.8" y="85.8398">AGVConfigurationRepository</text><rect fill="#E2E2F0" height="37.9313" rx="3" ry="3" style="stroke:#181818;stroke-width:0.6;" width="235.2" x="1748.4" y="1953.4219"/><text fill="#000000" font-family="sans-serif" font-size="16.8" lengthAdjust="spacing" textLength="218.4" x="1756.8" y="1979.2617">AGVConfigurationRepository</text><rect fill="#E2E2F0" height="37.9313" rx="3" ry="3" style="stroke:#181818;stroke-width:0.6;" width="51.6" x="1995.6" y="60"/><text fill="#000000" font-family="sans-serif" font-size="16.8" lengthAdjust="spacing" textLength="34.8" x="2004" y="85.8398">AGV</text><rect fill="#E2E2F0" height="37.9313" rx="3" ry="3" style="stroke:#181818;stroke-width:0.6;" width="51.6" x="1995.6" y="1953.4219"/><text fill="#000000" font-family="sans-serif" font-size="16.8" lengthAdjust="spacing" textLength="34.8" x="2004" y="1979.2617">AGV</text><rect fill="#E2E2F0" height="37.9313" rx="3" ry="3" style="stroke:#181818;stroke-width:0.6;" width="87.6" x="2121" y="1953.4219"/><text fill="#000000" font-family="sans-serif" font-size="16.8" lengthAdjust="spacing" textLength="70.8" x="2129.4" y="1979.2617">AGVDTO</text><rect fill="#FFFFFF" height="417.75" style="stroke:#181818;stroke-width:1.2;" width="12" x="377.4" y="137.9531"/><rect fill="#FFFFFF" height="417.75" style="stroke:#181818;stroke-width:1.2;" width="12" x="377.4" y="592.125"/><rect fill="#FFFFFF" height="886.725" style="stroke:#181818;stroke-width:1.2;" width="12" x="377.4" y="1046.2969"/><rect fill="#FFFFFF" height="344.9063" style="stroke:#181818;stroke-width:1.2;" width="12" x="738.6" y="174.375"/><rect fill="#FFFFFF" height="344.9063" style="stroke:#181818;stroke-width:1.2;" width="12" x="738.6" y="628.5469"/><rect fill="#FFFFFF" height="861.1031" style="stroke:#181818;stroke-width:1.2;" width="12" x="738.6" y="1082.7188"/><rect fill="#FFFFFF" height="272.0625" style="stroke:#181818;stroke-width:1.2;" width="12" x="1093.8" y="210.7969"/><rect fill="#FFFFFF" height="272.0625" style="stroke:#181818;stroke-width:1.2;" width="12" x="1093.8" y="664.9688"/><rect fill="#FFFFFF" height="741.0375" style="stroke:#181818;stroke-width:1.2;" width="12" x="1093.8" y="1119.1406"/><rect fill="#FFFFFF" height="36.4219" style="stroke:#181818;stroke-width:1.2;" width="12" x="1310.4" y="247.2188"/><rect fill="#FFFFFF" height="36.4219" style="stroke:#181818;stroke-width:1.2;" width="12" x="1310.4" y="1228.4063"/><rect fill="#FFFFFF" height="36" style="stroke:#181818;stroke-width:1.2;" width="12" x="1310.4" y="1590.9375"/><rect fill="#FFFFFF" height="87.5531" style="stroke:#181818;stroke-width:1.2;" width="12" x="1483.2" y="350.4844"/><rect fill="#FFFFFF" height="36" style="stroke:#181818;stroke-width:1.2;" width="12" x="1483.2" y="1446.0938"/><rect fill="#FFFFFF" height="36.4219" style="stroke:#181818;stroke-width:1.2;" width="12" x="1860" y="701.3906"/><rect fill="#FFFFFF" height="36.4219" style="stroke:#181818;stroke-width:1.2;" width="12" x="1860" y="1155.5625"/><rect fill="#FFFFFF" height="36" style="stroke:#181818;stroke-width:1.2;" width="12" x="1860" y="1518.5156"/><rect fill="#FFFFFF" height="36.4219" style="stroke:#181818;stroke-width:1.2;" width="12" x="1860" y="1663.3594"/><rect fill="#FFFFFF" height="87.5531" style="stroke:#181818;stroke-width:1.2;" width="12" x="2015.4" y="804.6563"/><rect fill="#FFFFFF" height="36" style="stroke:#181818;stroke-width:1.2;" width="12" x="2015.4" y="1301.25"/><rect fill="#FFFFFF" height="36" style="stroke:#181818;stroke-width:1.2;" width="12" x="2015.4" y="1373.6719"/><rect fill="#FFFFFF" height="87.5531" style="stroke:#181818;stroke-width:1.2;" width="12" x="2015.4" y="1736.2031"/><polygon fill="#181818" points="363,133.1531,375,137.9531,363,142.7531,367.8,137.9531" style="stroke:#181818;stroke-width:1.2;"/><line style="stroke:#181818;stroke-width:1.2;" x1="90.6" x2="370.2" y1="137.9531" y2="137.9531"/><text fill="#000000" font-family="sans-serif" font-size="15.6" font-weight="bold" lengthAdjust="spacing" textLength="8.4" x="99" y="132.1254">1</text><text fill="#000000" font-family="sans-serif" font-size="15.6" lengthAdjust="spacing" textLength="141.6" x="112.2" y="132.1254">"Give Order to AGV"</text><polygon fill="#181818" points="724.2,169.575,736.2,174.375,724.2,179.175,729,174.375" style="stroke:#181818;stroke-width:1.2;"/><line style="stroke:#181818;stroke-width:1.2;" x1="389.4" x2="731.4" y1="174.375" y2="174.375"/><text fill="#000000" font-family="sans-serif" font-size="15.6" font-weight="bold" lengthAdjust="spacing" textLength="8.4" x="397.8" y="168.5473">2</text><text fill="#000000" font-family="sans-serif" font-size="15.6" lengthAdjust="spacing" textLength="170.4" x="411" y="168.5473">allToBePreparedOrders()</text><polygon fill="#181818" points="1079.4,205.9969,1091.4,210.7969,1079.4,215.5969,1084.2,210.7969" style="stroke:#181818;stroke-width:1.2;"/><line style="stroke:#181818;stroke-width:1.2;" x1="750.6" x2="1086.6" y1="210.7969" y2="210.7969"/><text fill="#000000" font-family="sans-serif" font-size="15.6" font-weight="bold" lengthAdjust="spacing" textLength="8.4" x="759" y="204.9691">3</text><text fill="#000000" font-family="sans-serif" font-size="15.6" lengthAdjust="spacing" textLength="170.4" x="772.2" y="204.9691">allToBePreparedOrders()</text><polygon fill="#181818" points="1296,242.4188,1308,247.2188,1296,252.0187,1300.8,247.2188" style="stroke:#181818;stroke-width:1.2;"/><line style="stroke:#181818;stroke-width:1.2;" x1="1105.8" x2="1303.2" y1="247.2188" y2="247.2188"/><text fill="#000000" font-family="sans-serif" font-size="15.6" font-weight="bold" lengthAdjust="spacing" textLength="8.4" x="1114.2" y="241.391">4</text><text fill="#000000" font-family="sans-serif" font-size="15.6" lengthAdjust="spacing" textLength="132" x="1127.4" y="241.391">findToBePrepared()</text><polygon fill="#181818" points="1119,278.8406,1107,283.6406,1119,288.4406,1114.2,283.6406" style="stroke:#181818;stroke-width:1.2;"/><line style="stroke:#181818;stroke-width:1.2;stroke-dasharray:2.0,2.0;" x1="1111.8" x2="1315.2" y1="283.6406" y2="283.6406"/><text fill="#000000" font-family="sans-serif" font-size="15.6" font-weight="bold" lengthAdjust="spacing" textLength="8.4" x="1126.2" y="277.8129">5</text><text fill="#000000" font-family="sans-serif" font-size="15.6" lengthAdjust="spacing" textLength="162" x="1139.4" y="277.8129">Iterable&lt;ProductOrder&gt;</text><path d="M984,301.6406 L1071.6,301.6406 L1071.6,311.6625 L1059.6,323.6625 L984,323.6625 L984,301.6406 " fill="#EEEEEE" style="stroke:#000000;stroke-width:1.7999999999999998;"/><rect fill="none" height="145.9969" style="stroke:#000000;stroke-width:1.7999999999999998;" width="764.4" x="984" y="301.6406"/><text fill="#000000" font-family="sans-serif" font-size="15.6" font-weight="bold" lengthAdjust="spacing" textLength="33.6" x="1002" y="319.0348">loop</text><text fill="#000000" font-family="sans-serif" font-size="13.2" font-weight="bold" lengthAdjust="spacing" textLength="153.6" x="1089.6" y="317.7434">[foreach ProductOrder]</text><polygon fill="#181818" points="1468.8,345.6844,1480.8,350.4844,1468.8,355.2844,1473.6,350.4844" style="stroke:#181818;stroke-width:1.2;"/><line style="stroke:#181818;stroke-width:1.2;" x1="1105.8" x2="1476" y1="350.4844" y2="350.4844"/><text fill="#000000" font-family="sans-serif" font-size="15.6" font-weight="bold" lengthAdjust="spacing" textLength="8.4" x="1114.2" y="344.6566">6</text><text fill="#000000" font-family="sans-serif" font-size="15.6" lengthAdjust="spacing" textLength="92.4" x="1127.4" y="344.6566">toOrderDTO()</text><polygon fill="#181818" points="1566,382.1063,1578,386.9063,1566,391.7063,1570.8,386.9063" style="stroke:#181818;stroke-width:1.2;"/><line style="stroke:#181818;stroke-width:1.2;" x1="1495.2" x2="1573.2" y1="386.9063" y2="386.9063"/><text fill="#000000" font-family="sans-serif" font-size="15.6" font-weight="bold" lengthAdjust="spacing" textLength="8.4" x="1503.6" y="381.0785">7</text><text fill="#000000" font-family="sans-serif" font-size="15.6" lengthAdjust="spacing" textLength="43.2" x="1516.8" y="381.0785">create</text><rect fill="#E2E2F0" height="37.9313" rx="3" ry="3" style="stroke:#181818;stroke-width:0.6;" width="156" x="1580.4" y="360.0844"/><text fill="#000000" font-family="sans-serif" font-size="16.8" lengthAdjust="spacing" textLength="139.2" x="1588.8" y="385.9242">ProductOrderDTO</text><polygon fill="#181818" points="1119,433.2375,1107,438.0375,1119,442.8375,1114.2,438.0375" style="stroke:#181818;stroke-width:1.2;"/><line style="stroke:#181818;stroke-width:1.2;stroke-dasharray:2.0,2.0;" x1="1111.8" x2="1488" y1="438.0375" y2="438.0375"/><text fill="#000000" font-family="sans-serif" font-size="15.6" font-weight="bold" lengthAdjust="spacing" textLength="8.4" x="1126.2" y="432.2098">8</text><text fill="#000000" font-family="sans-serif" font-size="15.6" lengthAdjust="spacing" textLength="123.6" x="1139.4" y="432.2098">ProductOrderDTO</text><polygon fill="#181818" points="763.8,478.0594,751.8,482.8594,763.8,487.6594,759,482.8594" style="stroke:#181818;stroke-width:1.2;"/><line style="stroke:#181818;stroke-width:1.2;stroke-dasharray:2.0,2.0;" x1="756.6" x2="1098.6" y1="482.8594" y2="482.8594"/><text fill="#000000" font-family="sans-serif" font-size="15.6" font-weight="bold" lengthAdjust="spacing" textLength="8.4" x="771" y="477.0316">9</text><text fill="#000000" font-family="sans-serif" font-size="15.6" lengthAdjust="spacing" textLength="193.2" x="784.2" y="477.0316">Iterable&lt;ProductOrderDTO&gt;</text><polygon fill="#181818" points="402.6,514.4812,390.6,519.2813,402.6,524.0813,397.8,519.2813" style="stroke:#181818;stroke-width:1.2;"/><line style="stroke:#181818;stroke-width:1.2;stroke-dasharray:2.0,2.0;" x1="395.4" x2="743.4" y1="519.2813" y2="519.2813"/><text fill="#000000" font-family="sans-serif" font-size="15.6" font-weight="bold" lengthAdjust="spacing" textLength="16.8" x="409.8" y="513.4535">10</text><text fill="#000000" font-family="sans-serif" font-size="15.6" lengthAdjust="spacing" textLength="193.2" x="431.4" y="513.4535">Iterable&lt;ProductOrderDTO&gt;</text><polygon fill="#181818" points="103.8,550.9031,91.8,555.7031,103.8,560.5031,99,555.7031" style="stroke:#181818;stroke-width:1.2;"/><line style="stroke:#181818;stroke-width:1.2;stroke-dasharray:2.0,2.0;" x1="96.6" x2="382.2" y1="555.7031" y2="555.7031"/><text fill="#000000" font-family="sans-serif" font-size="15.6" font-weight="bold" lengthAdjust="spacing" textLength="16.8" x="111" y="549.8754">11</text><text fill="#000000" font-family="sans-serif" font-size="15.6" lengthAdjust="spacing" textLength="145.2" x="132.6" y="549.8754">Shows List of Orders</text><polygon fill="#181818" points="363,587.325,375,592.125,363,596.925,367.8,592.125" style="stroke:#181818;stroke-width:1.2;"/><line style="stroke:#181818;stroke-width:1.2;" x1="90.6" x2="370.2" y1="592.125" y2="592.125"/><text fill="#000000" font-family="sans-serif" font-size="15.6" font-weight="bold" lengthAdjust="spacing" textLength="16.8" x="99" y="586.2973">12</text><text fill="#000000" font-family="sans-serif" font-size="15.6" lengthAdjust="spacing" textLength="109.2" x="120.6" y="586.2973">Selects 1 Order</text><polygon fill="#181818" points="724.2,623.7469,736.2,628.5469,724.2,633.3469,729,628.5469" style="stroke:#181818;stroke-width:1.2;"/><line style="stroke:#181818;stroke-width:1.2;" x1="389.4" x2="731.4" y1="628.5469" y2="628.5469"/><text fill="#000000" font-family="sans-serif" font-size="15.6" font-weight="bold" lengthAdjust="spacing" textLength="16.8" x="397.8" y="622.7191">13</text><text fill="#000000" font-family="sans-serif" font-size="15.6" lengthAdjust="spacing" textLength="128.4" x="419.4" y="622.7191">allAvailableAGVs()</text><polygon fill="#181818" points="1079.4,660.1687,1091.4,664.9688,1079.4,669.7688,1084.2,664.9688" style="stroke:#181818;stroke-width:1.2;"/><line style="stroke:#181818;stroke-width:1.2;" x1="750.6" x2="1086.6" y1="664.9688" y2="664.9688"/><text fill="#000000" font-family="sans-serif" font-size="15.6" font-weight="bold" lengthAdjust="spacing" textLength="16.8" x="759" y="659.141">14</text><text fill="#000000" font-family="sans-serif" font-size="15.6" lengthAdjust="spacing" textLength="128.4" x="780.6" y="659.141">allAvailableAGVs()</text><polygon fill="#181818" points="1845.6,696.5906,1857.6,701.3906,1845.6,706.1906,1850.4,701.3906" style="stroke:#181818;stroke-width:1.2;"/><line style="stroke:#181818;stroke-width:1.2;" x1="1105.8" x2="1852.8" y1="701.3906" y2="701.3906"/><text fill="#000000" font-family="sans-serif" font-size="15.6" font-weight="bold" lengthAdjust="spacing" textLength="16.8" x="1114.2" y="695.5629">15</text><text fill="#000000" font-family="sans-serif" font-size="15.6" lengthAdjust="spacing" textLength="94.8" x="1135.8" y="695.5629">findAvailable()</text><polygon fill="#181818" points="1119,733.0125,1107,737.8125,1119,742.6125,1114.2,737.8125" style="stroke:#181818;stroke-width:1.2;"/><line style="stroke:#181818;stroke-width:1.2;stroke-dasharray:2.0,2.0;" x1="1111.8" x2="1864.8" y1="737.8125" y2="737.8125"/><text fill="#000000" font-family="sans-serif" font-size="15.6" font-weight="bold" lengthAdjust="spacing" textLength="16.8" x="1126.2" y="731.9848">16</text><text fill="#000000" font-family="sans-serif" font-size="15.6" lengthAdjust="spacing" textLength="103.2" x="1147.8" y="731.9848">Iterable&lt;AGV&gt;</text><path d="M984,755.8125 L1071.6,755.8125 L1071.6,765.8344 L1059.6,777.8344 L984,777.8344 L984,755.8125 " fill="#EEEEEE" style="stroke:#000000;stroke-width:1.7999999999999998;"/><rect fill="none" height="145.9969" style="stroke:#000000;stroke-width:1.7999999999999998;" width="1236.6" x="984" y="755.8125"/><text fill="#000000" font-family="sans-serif" font-size="15.6" font-weight="bold" lengthAdjust="spacing" textLength="33.6" x="1002" y="773.2066">loop</text><text fill="#000000" font-family="sans-serif" font-size="13.2" font-weight="bold" lengthAdjust="spacing" textLength="92.4" x="1089.6" y="771.9152">[foreach AGV]</text><polygon fill="#181818" points="2001,799.8562,2013,804.6563,2001,809.4563,2005.8,804.6563" style="stroke:#181818;stroke-width:1.2;"/><line style="stroke:#181818;stroke-width:1.2;" x1="1105.8" x2="2008.2" y1="804.6563" y2="804.6563"/><text fill="#000000" font-family="sans-serif" font-size="15.6" font-weight="bold" lengthAdjust="spacing" textLength="16.8" x="1114.2" y="798.8285">17</text><text fill="#000000" font-family="sans-serif" font-size="15.6" lengthAdjust="spacing" textLength="87.6" x="1135.8" y="798.8285">toAGVDTO()</text><polygon fill="#181818" points="2106.6,836.2781,2118.6,841.0781,2106.6,845.8781,2111.4,841.0781" style="stroke:#181818;stroke-width:1.2;"/><line style="stroke:#181818;stroke-width:1.2;" x1="2027.4" x2="2113.8" y1="841.0781" y2="841.0781"/><text fill="#000000" font-family="sans-serif" font-size="15.6" font-weight="bold" lengthAdjust="spacing" textLength="16.8" x="2035.8" y="835.2504">18</text><text fill="#000000" font-family="sans-serif" font-size="15.6" lengthAdjust="spacing" textLength="43.2" x="2057.4" y="835.2504">create</text><rect fill="#E2E2F0" height="37.9313" rx="3" ry="3" style="stroke:#181818;stroke-width:0.6;" width="87.6" x="2121" y="814.2563"/><text fill="#000000" font-family="sans-serif" font-size="16.8" lengthAdjust="spacing" textLength="70.8" x="2129.4" y="840.0961">AGVDTO</text><polygon fill="#181818" points="1119,887.4094,1107,892.2094,1119,897.0094,1114.2,892.2094" style="stroke:#181818;stroke-width:1.2;"/><line style="stroke:#181818;stroke-width:1.2;stroke-dasharray:2.0,2.0;" x1="1111.8" x2="2020.2" y1="892.2094" y2="892.2094"/><text fill="#000000" font-family="sans-serif" font-size="15.6" font-weight="bold" lengthAdjust="spacing" textLength="16.8" x="1126.2" y="886.3816">19</text><text fill="#000000" font-family="sans-serif" font-size="15.6" lengthAdjust="spacing" textLength="64.8" x="1147.8" y="886.3816">AGVDTO</text><polygon fill="#181818" points="763.8,932.2312,751.8,937.0313,763.8,941.8313,759,937.0313" style="stroke:#181818;stroke-width:1.2;"/><line style="stroke:#181818;stroke-width:1.2;stroke-dasharray:2.0,2.0;" x1="756.6" x2="1098.6" y1="937.0313" y2="937.0313"/><text fill="#000000" font-family="sans-serif" font-size="15.6" font-weight="bold" lengthAdjust="spacing" textLength="16.8" x="771" y="931.2035">20</text><text fill="#000000" font-family="sans-serif" font-size="15.6" lengthAdjust="spacing" textLength="134.4" x="792.6" y="931.2035">Iterable&lt;AGVDTO&gt;</text><polygon fill="#181818" points="402.6,968.6531,390.6,973.4531,402.6,978.2531,397.8,973.4531" style="stroke:#181818;stroke-width:1.2;"/><line style="stroke:#181818;stroke-width:1.2;stroke-dasharray:2.0,2.0;" x1="395.4" x2="743.4" y1="973.4531" y2="973.4531"/><text fill="#000000" font-family="sans-serif" font-size="15.6" font-weight="bold" lengthAdjust="spacing" textLength="16.8" x="409.8" y="967.6254">21</text><text fill="#000000" font-family="sans-serif" font-size="15.6" lengthAdjust="spacing" textLength="134.4" x="431.4" y="967.6254">Iterable&lt;AGVDTO&gt;</text><polygon fill="#181818" points="103.8,1005.075,91.8,1009.875,103.8,1014.675,99,1009.875" style="stroke:#181818;stroke-width:1.2;"/><line style="stroke:#181818;stroke-width:1.2;stroke-dasharray:2.0,2.0;" x1="96.6" x2="382.2" y1="1009.875" y2="1009.875"/><text fill="#000000" font-family="sans-serif" font-size="15.6" font-weight="bold" lengthAdjust="spacing" textLength="16.8" x="111" y="1004.0473">22</text><text fill="#000000" font-family="sans-serif" font-size="15.6" lengthAdjust="spacing" textLength="140.4" x="132.6" y="1004.0473">Shows List of AGVs</text><polygon fill="#181818" points="363,1041.4969,375,1046.2969,363,1051.0969,367.8,1046.2969" style="stroke:#181818;stroke-width:1.2;"/><line style="stroke:#181818;stroke-width:1.2;" x1="90.6" x2="370.2" y1="1046.2969" y2="1046.2969"/><text fill="#000000" font-family="sans-serif" font-size="15.6" font-weight="bold" lengthAdjust="spacing" textLength="16.8" x="99" y="1040.4691">23</text><text fill="#000000" font-family="sans-serif" font-size="15.6" lengthAdjust="spacing" textLength="104.4" x="120.6" y="1040.4691">Selects 1 AGV</text><polygon fill="#181818" points="724.2,1077.9188,736.2,1082.7188,724.2,1087.5188,729,1082.7188" style="stroke:#181818;stroke-width:1.2;"/><line style="stroke:#181818;stroke-width:1.2;" x1="389.4" x2="731.4" y1="1082.7188" y2="1082.7188"/><text fill="#000000" font-family="sans-serif" font-size="15.6" font-weight="bold" lengthAdjust="spacing" textLength="16.8" x="397.8" y="1076.891">24</text><text fill="#000000" font-family="sans-serif" font-size="15.6" lengthAdjust="spacing" textLength="304.8" x="419.4" y="1076.891">giveOrderToAGV(agvDTO,productOrderDTO)</text><polygon fill="#181818" points="1079.4,1114.3406,1091.4,1119.1406,1079.4,1123.9406,1084.2,1119.1406" style="stroke:#181818;stroke-width:1.2;"/><line style="stroke:#181818;stroke-width:1.2;" x1="750.6" x2="1086.6" y1="1119.1406" y2="1119.1406"/><text fill="#000000" font-family="sans-serif" font-size="15.6" font-weight="bold" lengthAdjust="spacing" textLength="16.8" x="759" y="1113.3129">25</text><text fill="#000000" font-family="sans-serif" font-size="15.6" lengthAdjust="spacing" textLength="298.8" x="780.6" y="1113.3129">grabRealValues(agvDTO,productOrderDTO)</text><polygon fill="#181818" points="1845.6,1150.7625,1857.6,1155.5625,1845.6,1160.3625,1850.4,1155.5625" style="stroke:#181818;stroke-width:1.2;"/><line style="stroke:#181818;stroke-width:1.2;" x1="1105.8" x2="1852.8" y1="1155.5625" y2="1155.5625"/><text fill="#000000" font-family="sans-serif" font-size="15.6" font-weight="bold" lengthAdjust="spacing" textLength="16.8" x="1114.2" y="1149.7348">26</text><text fill="#000000" font-family="sans-serif" font-size="15.6" lengthAdjust="spacing" textLength="102" x="1135.8" y="1149.7348">findById(agvID)</text><polygon fill="#181818" points="1119,1187.1844,1107,1191.9844,1119,1196.7844,1114.2,1191.9844" style="stroke:#181818;stroke-width:1.2;"/><line style="stroke:#181818;stroke-width:1.2;stroke-dasharray:2.0,2.0;" x1="1111.8" x2="1864.8" y1="1191.9844" y2="1191.9844"/><text fill="#000000" font-family="sans-serif" font-size="15.6" font-weight="bold" lengthAdjust="spacing" textLength="16.8" x="1126.2" y="1186.1566">27</text><text fill="#000000" font-family="sans-serif" font-size="15.6" lengthAdjust="spacing" textLength="33.6" x="1147.8" y="1186.1566">AGV</text><polygon fill="#181818" points="1296,1223.6063,1308,1228.4063,1296,1233.2063,1300.8,1228.4063" style="stroke:#181818;stroke-width:1.2;"/><line style="stroke:#181818;stroke-width:1.2;" x1="1105.8" x2="1303.2" y1="1228.4063" y2="1228.4063"/><text fill="#000000" font-family="sans-serif" font-size="15.6" font-weight="bold" lengthAdjust="spacing" textLength="16.8" x="1114.2" y="1222.5785">28</text><text fill="#000000" font-family="sans-serif" font-size="15.6" lengthAdjust="spacing" textLength="111.6" x="1135.8" y="1222.5785">findById(orderId)</text><polygon fill="#181818" points="1119,1260.0281,1107,1264.8281,1119,1269.6281,1114.2,1264.8281" style="stroke:#181818;stroke-width:1.2;"/><line style="stroke:#181818;stroke-width:1.2;stroke-dasharray:2.0,2.0;" x1="1111.8" x2="1315.2" y1="1264.8281" y2="1264.8281"/><text fill="#000000" font-family="sans-serif" font-size="15.6" font-weight="bold" lengthAdjust="spacing" textLength="16.8" x="1126.2" y="1259.0004">29</text><text fill="#000000" font-family="sans-serif" font-size="15.6" lengthAdjust="spacing" textLength="92.4" x="1147.8" y="1259.0004">ProductOrder</text><polygon fill="#181818" points="2001,1296.45,2013,1301.25,2001,1306.05,2005.8,1301.25" style="stroke:#181818;stroke-width:1.2;"/><line style="stroke:#181818;stroke-width:1.2;" x1="1105.8" x2="2008.2" y1="1301.25" y2="1301.25"/><text fill="#000000" font-family="sans-serif" font-size="15.6" font-weight="bold" lengthAdjust="spacing" textLength="16.8" x="1114.2" y="1295.4223">30</text><text fill="#000000" font-family="sans-serif" font-size="15.6" lengthAdjust="spacing" textLength="301.2" x="1135.8" y="1295.4223">changeTaskTo("Preparing Order :"+OrderId)</text><polygon fill="#181818" points="2001,1368.8719,2013,1373.6719,2001,1378.4719,2005.8,1373.6719" style="stroke:#181818;stroke-width:1.2;"/><line style="stroke:#181818;stroke-width:1.2;" x1="1105.8" x2="2008.2" y1="1373.6719" y2="1373.6719"/><text fill="#000000" font-family="sans-serif" font-size="15.6" font-weight="bold" lengthAdjust="spacing" textLength="16.8" x="1114.2" y="1367.8441">31</text><text fill="#000000" font-family="sans-serif" font-size="15.6" lengthAdjust="spacing" textLength="165.6" x="1135.8" y="1367.8441">changeStatusTo(status)</text><polygon fill="#181818" points="1468.8,1441.2938,1480.8,1446.0938,1468.8,1450.8938,1473.6,1446.0938" style="stroke:#181818;stroke-width:1.2;"/><line style="stroke:#181818;stroke-width:1.2;" x1="1105.8" x2="1476" y1="1446.0938" y2="1446.0938"/><text fill="#000000" font-family="sans-serif" font-size="15.6" font-weight="bold" lengthAdjust="spacing" textLength="16.8" x="1114.2" y="1440.266">32</text><text fill="#000000" font-family="sans-serif" font-size="15.6" lengthAdjust="spacing" textLength="165.6" x="1135.8" y="1440.266">changeStatusTo(status)</text><polygon fill="#181818" points="1845.6,1513.7156,1857.6,1518.5156,1845.6,1523.3156,1850.4,1518.5156" style="stroke:#181818;stroke-width:1.2;"/><line style="stroke:#181818;stroke-width:1.2;" x1="1105.8" x2="1852.8" y1="1518.5156" y2="1518.5156"/><text fill="#000000" font-family="sans-serif" font-size="15.6" font-weight="bold" lengthAdjust="spacing" textLength="16.8" x="1114.2" y="1512.6879">33</text><text fill="#000000" font-family="sans-serif" font-size="15.6" lengthAdjust="spacing" textLength="63.6" x="1135.8" y="1512.6879">save(agv)</text><polygon fill="#181818" points="1296,1586.1375,1308,1590.9375,1296,1595.7375,1300.8,1590.9375" style="stroke:#181818;stroke-width:1.2;"/><line style="stroke:#181818;stroke-width:1.2;" x1="1105.8" x2="1303.2" y1="1590.9375" y2="1590.9375"/><text fill="#000000" font-family="sans-serif" font-size="15.6" font-weight="bold" lengthAdjust="spacing" textLength="16.8" x="1114.2" y="1585.1098">34</text><text fill="#000000" font-family="sans-serif" font-size="15.6" lengthAdjust="spacing" textLength="130.8" x="1135.8" y="1585.1098">save(productOrder)</text><polygon fill="#181818" points="1845.6,1658.5594,1857.6,1663.3594,1845.6,1668.1594,1850.4,1663.3594" style="stroke:#181818;stroke-width:1.2;"/><line style="stroke:#181818;stroke-width:1.2;" x1="1105.8" x2="1852.8" y1="1663.3594" y2="1663.3594"/><text fill="#000000" font-family="sans-serif" font-size="15.6" font-weight="bold" lengthAdjust="spacing" textLength="16.8" x="1114.2" y="1657.5316">35</text><text fill="#000000" font-family="sans-serif" font-size="15.6" lengthAdjust="spacing" textLength="102" x="1135.8" y="1657.5316">findById(agvID)</text><polygon fill="#181818" points="1119,1694.9813,1107,1699.7813,1119,1704.5813,1114.2,1699.7813" style="stroke:#181818;stroke-width:1.2;"/><line style="stroke:#181818;stroke-width:1.2;stroke-dasharray:2.0,2.0;" x1="1111.8" x2="1864.8" y1="1699.7813" y2="1699.7813"/><text fill="#000000" font-family="sans-serif" font-size="15.6" font-weight="bold" lengthAdjust="spacing" textLength="16.8" x="1126.2" y="1693.9535">36</text><text fill="#000000" font-family="sans-serif" font-size="15.6" lengthAdjust="spacing" textLength="33.6" x="1147.8" y="1693.9535">AGV</text><polygon fill="#181818" points="2001,1731.4031,2013,1736.2031,2001,1741.0031,2005.8,1736.2031" style="stroke:#181818;stroke-width:1.2;"/><line style="stroke:#181818;stroke-width:1.2;" x1="1105.8" x2="2008.2" y1="1736.2031" y2="1736.2031"/><text fill="#000000" font-family="sans-serif" font-size="15.6" font-weight="bold" lengthAdjust="spacing" textLength="16.8" x="1114.2" y="1730.3754">37</text><text fill="#000000" font-family="sans-serif" font-size="15.6" lengthAdjust="spacing" textLength="87.6" x="1135.8" y="1730.3754">toAGVDTO()</text><polygon fill="#181818" points="2106.6,1767.825,2118.6,1772.625,2106.6,1777.425,2111.4,1772.625" style="stroke:#181818;stroke-width:1.2;"/><line style="stroke:#181818;stroke-width:1.2;" x1="2027.4" x2="2113.8" y1="1772.625" y2="1772.625"/><text fill="#000000" font-family="sans-serif" font-size="15.6" font-weight="bold" lengthAdjust="spacing" textLength="16.8" x="2035.8" y="1766.7973">38</text><text fill="#000000" font-family="sans-serif" font-size="15.6" lengthAdjust="spacing" textLength="43.2" x="2057.4" y="1766.7973">create</text><rect fill="#E2E2F0" height="37.9313" rx="3" ry="3" style="stroke:#181818;stroke-width:0.6;" width="87.6" x="2121" y="1745.8031"/><text fill="#000000" font-family="sans-serif" font-size="16.8" lengthAdjust="spacing" textLength="70.8" x="2129.4" y="1771.643">AGVDTO</text><polygon fill="#181818" points="1119,1818.9563,1107,1823.7563,1119,1828.5562,1114.2,1823.7563" style="stroke:#181818;stroke-width:1.2;"/><line style="stroke:#181818;stroke-width:1.2;stroke-dasharray:2.0,2.0;" x1="1111.8" x2="2020.2" y1="1823.7563" y2="1823.7563"/><text fill="#000000" font-family="sans-serif" font-size="15.6" font-weight="bold" lengthAdjust="spacing" textLength="16.8" x="1126.2" y="1817.9285">39</text><text fill="#000000" font-family="sans-serif" font-size="15.6" lengthAdjust="spacing" textLength="64.8" x="1147.8" y="1817.9285">AGVDTO</text><polygon fill="#181818" points="763.8,1855.3781,751.8,1860.1781,763.8,1864.9781,759,1860.1781" style="stroke:#181818;stroke-width:1.2;"/><line style="stroke:#181818;stroke-width:1.2;stroke-dasharray:2.0,2.0;" x1="756.6" x2="1098.6" y1="1860.1781" y2="1860.1781"/><text fill="#000000" font-family="sans-serif" font-size="15.6" font-weight="bold" lengthAdjust="spacing" textLength="16.8" x="771" y="1854.3504">40</text><text fill="#000000" font-family="sans-serif" font-size="15.6" lengthAdjust="spacing" textLength="64.8" x="792.6" y="1854.3504">AGVDTO</text><polygon fill="#181818" points="402.6,1891.8,390.6,1896.6,402.6,1901.4,397.8,1896.6" style="stroke:#181818;stroke-width:1.2;"/><line style="stroke:#181818;stroke-width:1.2;stroke-dasharray:2.0,2.0;" x1="395.4" x2="737.4" y1="1896.6" y2="1896.6"/><text fill="#000000" font-family="sans-serif" font-size="15.6" font-weight="bold" lengthAdjust="spacing" textLength="16.8" x="409.8" y="1890.7723">41</text><text fill="#000000" font-family="sans-serif" font-size="15.6" lengthAdjust="spacing" textLength="64.8" x="431.4" y="1890.7723">AGVDTO</text><polygon fill="#181818" points="103.8,1928.2219,91.8,1933.0219,103.8,1937.8219,99,1933.0219" style="stroke:#181818;stroke-width:1.2;"/><line style="stroke:#181818;stroke-width:1.2;stroke-dasharray:2.0,2.0;" x1="96.6" x2="382.2" y1="1933.0219" y2="1933.0219"/><text fill="#000000" font-family="sans-serif" font-size="15.6" font-weight="bold" lengthAdjust="spacing" textLength="16.8" x="111" y="1927.1941">42</text><text fill="#000000" font-family="sans-serif" font-size="15.6" lengthAdjust="spacing" textLength="236.4" x="132.6" y="1927.1941">Show that AGV is preparing Order</text><!--MD5=[f68305490d2bc62b862a3217be77e307]
@startuml
'https://plantuml.com/sequence-diagram

autonumber
actor WarehouseEmployee

participant GiveOrderToAGVUI as UI

participant GiveOrderToAGVController as C

participant GiveOrderToAGVService as S

participant ProductOrderRepository as OR

participant ProductOrder as PO

participant ProductOrderDTO as DTO1

participant AGVConfigurationRepository as CR

participant AGV

participant AGVDTO as DTO2



WarehouseEmployee -> UI: "Give Order to AGV"
activate UI

UI -> C :allToBePreparedOrders()

activate C

C -> S:allToBePreparedOrders()

activate S

S -> OR :findToBePrepared()

activate OR

OR - -> S:Iterable<ProductOrder>
deactivate OR


loop foreach ProductOrder

S -> PO: toOrderDTO()
activate PO
PO -> DTO1**: create
PO - -> S: ProductOrderDTO
deactivate PO
end
S - -> C : Iterable<ProductOrderDTO>
deactivate S
C - -> UI: Iterable<ProductOrderDTO>
deactivate C
UI - -> WarehouseEmployee: Shows List of Orders
deactivate UI


WarehouseEmployee -> UI: Selects 1 Order
activate UI

UI -> C :allAvailableAGVs()

activate C

C -> S: allAvailableAGVs()

activate S

S -> CR :findAvailable()

activate CR

CR - -> S:Iterable<AGV>
deactivate CR


loop foreach AGV

S -> AGV: toAGVDTO()
activate AGV
AGV -> DTO2**: create
AGV - -> S: AGVDTO
deactivate AGV
end
S - -> C : Iterable<AGVDTO>
deactivate S
C - -> UI: Iterable<AGVDTO>
deactivate C




WarehouseEmployee <- - UI: Shows List of AGVs
deactivate
WarehouseEmployee -> UI: Selects 1 AGV
activate UI

UI -> C :giveOrderToAGV(agvDTO,productOrderDTO)
activate C

C -> S:grabRealValues(agvDTO,productOrderDTO)
activate S

S->CR:findById(agvID)
activate CR

CR- ->S:AGV
deactivate CR
S->OR:findById(orderId)
activate OR
OR- ->S:ProductOrder
deactivate OR

S->AGV:changeTaskTo("Preparing Order :"+OrderId)
activate AGV
deactivate AGV
S->AGV:changeStatusTo(status)
activate AGV
deactivate AGV
S-> PO:changeStatusTo(status)

activate PO
deactivate PO

S->CR :save(agv)
activate CR
deactivate CR
S->OR :save(productOrder)
activate OR
deactivate OR
deactivate CR
S->CR:findById(agvID)
activate CR
CR- ->S:AGV
deactivate CR

S -> AGV: toAGVDTO()
activate AGV
AGV -> DTO2**: create
AGV - -> S: AGVDTO
deactivate AGV

S- ->C :AGVDTO
deactivate S

C- ->UI:AGVDTO

WarehouseEmployee <- - UI: Show that AGV is preparing Order
deactivate
@enduml

@startuml

autonumber
actor WarehouseEmployee

participant GiveOrderToAGVUI as UI

participant GiveOrderToAGVController as C

participant GiveOrderToAGVService as S

participant ProductOrderRepository as OR

participant ProductOrder as PO

participant ProductOrderDTO as DTO1

participant AGVConfigurationRepository as CR

participant AGV

participant AGVDTO as DTO2



WarehouseEmployee -> UI: "Give Order to AGV"
activate UI

UI -> C :allToBePreparedOrders()

activate C

C -> S:allToBePreparedOrders()

activate S

S -> OR :findToBePrepared()

activate OR

OR - -> S:Iterable<ProductOrder>
deactivate OR


loop foreach ProductOrder

S -> PO: toOrderDTO()
activate PO
PO -> DTO1**: create
PO - -> S: ProductOrderDTO
deactivate PO
end
S - -> C : Iterable<ProductOrderDTO>
deactivate S
C - -> UI: Iterable<ProductOrderDTO>
deactivate C
UI - -> WarehouseEmployee: Shows List of Orders
deactivate UI


WarehouseEmployee -> UI: Selects 1 Order
activate UI

UI -> C :allAvailableAGVs()

activate C

C -> S: allAvailableAGVs()

activate S

S -> CR :findAvailable()

activate CR

CR - -> S:Iterable<AGV>
deactivate CR


loop foreach AGV

S -> AGV: toAGVDTO()
activate AGV
AGV -> DTO2**: create
AGV - -> S: AGVDTO
deactivate AGV
end
S - -> C : Iterable<AGVDTO>
deactivate S
C - -> UI: Iterable<AGVDTO>
deactivate C




WarehouseEmployee <- - UI: Shows List of AGVs
deactivate
WarehouseEmployee -> UI: Selects 1 AGV
activate UI

UI -> C :giveOrderToAGV(agvDTO,productOrderDTO)
activate C

C -> S:grabRealValues(agvDTO,productOrderDTO)
activate S

S->CR:findById(agvID)
activate CR

CR- ->S:AGV
deactivate CR
S->OR:findById(orderId)
activate OR
OR- ->S:ProductOrder
deactivate OR

S->AGV:changeTaskTo("Preparing Order :"+OrderId)
activate AGV
deactivate AGV
S->AGV:changeStatusTo(status)
activate AGV
deactivate AGV
S-> PO:changeStatusTo(status)

activate PO
deactivate PO

S->CR :save(agv)
activate CR
deactivate CR
S->OR :save(productOrder)
activate OR
deactivate OR
deactivate CR
S->CR:findById(agvID)
activate CR
CR- ->S:AGV
deactivate CR

S -> AGV: toAGVDTO()
activate AGV
AGV -> DTO2**: create
AGV - -> S: AGVDTO
deactivate AGV

S- ->C :AGVDTO
deactivate S

C- ->UI:AGVDTO

WarehouseEmployee <- - UI: Show that AGV is preparing Order
deactivate
@enduml

PlantUML version 1.2022.4(Sat Apr 09 14:29:17 BST 2022)
(GPL source distribution)
Java Runtime: OpenJDK Runtime Environment
JVM: OpenJDK 64-Bit Server VM
Default Encoding: Cp1252
Language: pt
Country: PT
--></g></svg>