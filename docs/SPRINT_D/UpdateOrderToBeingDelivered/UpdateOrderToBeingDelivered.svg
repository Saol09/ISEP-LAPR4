<?xml version="1.0" encoding="UTF-8" standalone="no"?><svg xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" contentStyleType="text/css" height="597px" preserveAspectRatio="none" style="width:1401px;height:597px;background:#FFFFFF;" version="1.1" viewBox="0 0 1401 597" width="1401px" zoomAndPan="magnify"><defs/><g><rect fill="#FFFFFF" height="476.5703" style="stroke:#181818;stroke-width:1.0;" width="10" x="39" y="96.2188"/><rect fill="#FFFFFF" height="181.7578" style="stroke:#181818;stroke-width:1.0;" width="10" x="309" y="118.5703"/><rect fill="#FFFFFF" height="251.1094" style="stroke:#181818;stroke-width:1.0;" width="10" x="309" y="330.6797"/><rect fill="#FFFFFF" height="121.0547" style="stroke:#181818;stroke-width:1.0;" width="10" x="650" y="148.9219"/><rect fill="#FFFFFF" height="181.4063" style="stroke:#181818;stroke-width:1.0;" width="10" x="650" y="361.0313"/><rect fill="#FFFFFF" height="60.3516" style="stroke:#181818;stroke-width:1.0;" width="10" x="864.5" y="179.2734"/><rect fill="#FFFFFF" height="30" style="stroke:#181818;stroke-width:1.0;" width="10" x="1007.5" y="209.625"/><rect fill="#FFFFFF" height="30.3516" style="stroke:#181818;stroke-width:1.0;" width="10" x="1162.5" y="391.3828"/><rect fill="#FFFFFF" height="30" style="stroke:#181818;stroke-width:1.0;" width="10" x="1162.5" y="512.4375"/><rect fill="#FFFFFF" height="30" style="stroke:#181818;stroke-width:1.0;" width="10" x="1321.5" y="452.0859"/><line style="stroke:#181818;stroke-width:0.5;stroke-dasharray:5.0,5.0;" x1="44" x2="44" y1="86.2188" y2="590.7891"/><line style="stroke:#181818;stroke-width:0.5;stroke-dasharray:5.0,5.0;" x1="314" x2="314" y1="86.2188" y2="590.7891"/><line style="stroke:#181818;stroke-width:0.5;stroke-dasharray:5.0,5.0;" x1="654.5" x2="654.5" y1="86.2188" y2="590.7891"/><line style="stroke:#181818;stroke-width:0.5;stroke-dasharray:5.0,5.0;" x1="869.5" x2="869.5" y1="86.2188" y2="590.7891"/><line style="stroke:#181818;stroke-width:0.5;stroke-dasharray:5.0,5.0;" x1="1012.5" x2="1012.5" y1="86.2188" y2="590.7891"/><line style="stroke:#181818;stroke-width:0.5;stroke-dasharray:5.0,5.0;" x1="1167.5" x2="1167.5" y1="86.2188" y2="590.7891"/><line style="stroke:#181818;stroke-width:0.5;stroke-dasharray:5.0,5.0;" x1="1326.5" x2="1326.5" y1="86.2188" y2="590.7891"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="72" x="5" y="83.1426">Sales Clerk</text><ellipse cx="44" cy="17.1094" fill="#E2E2F0" rx="8" ry="8" style="stroke:#181818;stroke-width:0.5;"/><path d="M44,25.1094 L44,52.1094 M31,33.1094 L57,33.1094 M44,52.1094 L31,67.1094 M44,52.1094 L57,67.1094 " fill="none" style="stroke:#181818;stroke-width:0.5;"/><rect fill="#E2E2F0" height="49.2188" rx="2.5" ry="2.5" style="stroke:#181818;stroke-width:0.5;" width="266" x="181" y="36"/><text fill="#000000" font-family="sans-serif" font-size="14" font-style="italic" lengthAdjust="spacing" textLength="95" x="266.5" y="57.5332">«presentation»</text><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="252" x="188" y="75.1426">ChangeOrderStatusToBeingDeliveredUI</text><rect fill="#E2E2F0" height="49.2188" rx="2.5" ry="2.5" style="stroke:#181818;stroke-width:0.5;" width="273" x="518.5" y="36"/><text fill="#000000" font-family="sans-serif" font-size="14" font-style="italic" lengthAdjust="spacing" textLength="84" x="613" y="57.5332">«application»</text><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="259" x="525.5" y="75.1426">UpdateStatusToBeingPreparedController</text><rect fill="#E2E2F0" height="49.2188" rx="2.5" ry="2.5" style="stroke:#181818;stroke-width:0.5;" width="136" x="801.5" y="36"/><text fill="#000000" font-family="sans-serif" font-size="14" font-style="italic" lengthAdjust="spacing" textLength="89" x="825" y="57.5332">«persistence»</text><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="122" x="808.5" y="75.1426">PersistenceContext</text><rect fill="#E2E2F0" height="49.2188" rx="2.5" ry="2.5" style="stroke:#181818;stroke-width:0.5;" width="130" x="947.5" y="36"/><text fill="#000000" font-family="sans-serif" font-size="14" font-style="italic" lengthAdjust="spacing" textLength="59" x="983" y="57.5332">«factory»</text><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="116" x="954.5" y="75.1426">RepositoryFactory</text><text fill="#000000" font-family="sans-serif" font-size="14" font-style="italic" lengthAdjust="spacing" textLength="79" x="1125" y="65.5332">«repository»</text><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="154" x="1087.5" y="83.1426">ProductOrderRepository</text><path d="M1149.5,15 C1149.5,5 1167.5,5 1167.5,5 C1167.5,5 1185.5,5 1185.5,15 L1185.5,41 C1185.5,51 1167.5,51 1167.5,51 C1167.5,51 1149.5,51 1149.5,41 L1149.5,15 " fill="#E2E2F0" style="stroke:#181818;stroke-width:1.5;"/><path d="M1149.5,15 C1149.5,25 1167.5,25 1167.5,25 C1167.5,25 1185.5,25 1185.5,15 " fill="none" style="stroke:#181818;stroke-width:1.5;"/><rect fill="#E2E2F0" height="31.6094" rx="2.5" ry="2.5" style="stroke:#181818;stroke-width:0.5;" width="138" x="1257.5" y="53.6094"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="124" x="1264.5" y="75.1426">order:ProductOrder</text><rect fill="#FFFFFF" height="476.5703" style="stroke:#181818;stroke-width:1.0;" width="10" x="39" y="96.2188"/><rect fill="#FFFFFF" height="181.7578" style="stroke:#181818;stroke-width:1.0;" width="10" x="309" y="118.5703"/><rect fill="#FFFFFF" height="251.1094" style="stroke:#181818;stroke-width:1.0;" width="10" x="309" y="330.6797"/><rect fill="#FFFFFF" height="121.0547" style="stroke:#181818;stroke-width:1.0;" width="10" x="650" y="148.9219"/><rect fill="#FFFFFF" height="181.4063" style="stroke:#181818;stroke-width:1.0;" width="10" x="650" y="361.0313"/><rect fill="#FFFFFF" height="60.3516" style="stroke:#181818;stroke-width:1.0;" width="10" x="864.5" y="179.2734"/><rect fill="#FFFFFF" height="30" style="stroke:#181818;stroke-width:1.0;" width="10" x="1007.5" y="209.625"/><rect fill="#FFFFFF" height="30.3516" style="stroke:#181818;stroke-width:1.0;" width="10" x="1162.5" y="391.3828"/><rect fill="#FFFFFF" height="30" style="stroke:#181818;stroke-width:1.0;" width="10" x="1162.5" y="512.4375"/><rect fill="#FFFFFF" height="30" style="stroke:#181818;stroke-width:1.0;" width="10" x="1321.5" y="452.0859"/><polygon fill="#181818" points="297,114.5703,307,118.5703,297,122.5703,301,118.5703" style="stroke:#181818;stroke-width:1.0;"/><line style="stroke:#181818;stroke-width:1.0;" x1="49" x2="303" y1="118.5703" y2="118.5703"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacing" textLength="7" x="56" y="113.7139">1</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="230" x="67" y="113.7139">Wants to change the status of the order</text><polygon fill="#181818" points="638,144.9219,648,148.9219,638,152.9219,642,148.9219" style="stroke:#181818;stroke-width:1.0;"/><line style="stroke:#181818;stroke-width:1.0;" x1="319" x2="644" y1="148.9219" y2="148.9219"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacing" textLength="7" x="326" y="144.0654">2</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="230" x="337" y="144.0654">dispatchedForCustomerDeliveryOrders()</text><polygon fill="#181818" points="852.5,175.2734,862.5,179.2734,852.5,183.2734,856.5,179.2734" style="stroke:#181818;stroke-width:1.0;"/><line style="stroke:#181818;stroke-width:1.0;" x1="660" x2="858.5" y1="179.2734" y2="179.2734"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacing" textLength="7" x="667" y="174.417">3</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="75" x="678" y="174.417">repositories()</text><polygon fill="#181818" points="995.5,205.625,1005.5,209.625,995.5,213.625,999.5,209.625" style="stroke:#181818;stroke-width:1.0;"/><line style="stroke:#181818;stroke-width:1.0;" x1="874.5" x2="1001.5" y1="209.625" y2="209.625"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacing" textLength="7" x="881.5" y="204.7686">4</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="44" x="892.5" y="204.7686">create()</text><polygon fill="#181818" points="330,265.9766,320,269.9766,330,273.9766,326,269.9766" style="stroke:#181818;stroke-width:1.0;"/><line style="stroke:#181818;stroke-width:1.0;stroke-dasharray:2.0,2.0;" x1="324" x2="654" y1="269.9766" y2="269.9766"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacing" textLength="7" x="336" y="265.1201">5</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="161" x="347" y="265.1201">Iterable&lt;ProductOrderDTO&gt;</text><polygon fill="#181818" points="60,296.3281,50,300.3281,60,304.3281,56,300.3281" style="stroke:#181818;stroke-width:1.0;"/><line style="stroke:#181818;stroke-width:1.0;stroke-dasharray:2.0,2.0;" x1="54" x2="313" y1="300.3281" y2="300.3281"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacing" textLength="7" x="66" y="295.4717">6</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="222" x="77" y="295.4717">Show orders and requests the order ID</text><polygon fill="#181818" points="297,326.6797,307,330.6797,297,334.6797,301,330.6797" style="stroke:#181818;stroke-width:1.0;"/><line style="stroke:#181818;stroke-width:1.0;" x1="49" x2="303" y1="330.6797" y2="330.6797"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacing" textLength="7" x="56" y="325.8232">7</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="110" x="67" y="325.8232">Inserts the order ID</text><polygon fill="#181818" points="638,357.0313,648,361.0313,638,365.0313,642,361.0313" style="stroke:#181818;stroke-width:1.0;"/><line style="stroke:#181818;stroke-width:1.0;" x1="319" x2="644" y1="361.0313" y2="361.0313"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacing" textLength="7" x="326" y="356.1748">8</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="301" x="337" y="356.1748">changeDispatchedToBeingDelivered(productOrderID)</text><polygon fill="#181818" points="1150.5,387.3828,1160.5,391.3828,1150.5,395.3828,1154.5,391.3828" style="stroke:#181818;stroke-width:1.0;"/><line style="stroke:#181818;stroke-width:1.0;" x1="660" x2="1156.5" y1="391.3828" y2="391.3828"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacing" textLength="7" x="667" y="386.5264">9</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="96" x="678" y="386.5264">findByOrderId(id)</text><polygon fill="#181818" points="671,417.7344,661,421.7344,671,425.7344,667,421.7344" style="stroke:#181818;stroke-width:1.0;"/><line style="stroke:#181818;stroke-width:1.0;stroke-dasharray:2.0,2.0;" x1="665" x2="1166.5" y1="421.7344" y2="421.7344"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacing" textLength="14" x="677" y="416.8779">10</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="29" x="695" y="416.8779">order</text><polygon fill="#181818" points="1309.5,448.0859,1319.5,452.0859,1309.5,456.0859,1313.5,452.0859" style="stroke:#181818;stroke-width:1.0;"/><line style="stroke:#181818;stroke-width:1.0;" x1="660" x2="1315.5" y1="452.0859" y2="452.0859"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacing" textLength="14" x="667" y="447.2295">11</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="461" x="685" y="447.2295">changeDispatchedToBeingDelivered(ProductOrder.Status.BEING_DELIVERED);</text><polygon fill="#181818" points="1150.5,508.4375,1160.5,512.4375,1150.5,516.4375,1154.5,512.4375" style="stroke:#181818;stroke-width:1.0;"/><line style="stroke:#181818;stroke-width:1.0;" x1="660" x2="1156.5" y1="512.4375" y2="512.4375"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacing" textLength="14" x="667" y="507.5811">12</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="63" x="685" y="507.5811">save(order)</text><polygon fill="#181818" points="55,568.7891,45,572.7891,55,576.7891,51,572.7891" style="stroke:#181818;stroke-width:1.0;"/><line style="stroke:#181818;stroke-width:1.0;stroke-dasharray:2.0,2.0;" x1="49" x2="308" y1="572.7891" y2="572.7891"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacing" textLength="14" x="61" y="567.9326">13</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="97" x="79" y="567.9326">Informs Success</text><!--MD5=[b77c63fa6e1642ec3c6f52df19495dae]
@startuml
'https://plantuml.com/sequence-diagram

autonumber
hide footbox

actor "Sales Clerk" as ator
participant ChangeOrderStatusToBeingDeliveredUI as orderStatusUI <<presentation>>
participant UpdateStatusToBeingPreparedController as changeOrderController <<application>>
participant PersistenceContext as persistence <<persistence>>
participant RepositoryFactory as factory <<factory>>
database ProductOrderRepository as productOrderRepo <<repository>>
participant "order:ProductOrder" as costumerOrder

activate ator

ator -> orderStatusUI: Wants to change the status of the order
activate orderStatusUI
orderStatusUI -> changeOrderController: dispatchedForCustomerDeliveryOrders()
activate changeOrderController
changeOrderController -> persistence: repositories()
activate persistence
persistence -> factory: create()
activate factory
deactivate factory
deactivate persistence
changeOrderController - -> orderStatusUI: Iterable<ProductOrderDTO>
deactivate changeOrderController
orderStatusUI - -> ator: Show orders and requests the order ID
deactivate orderStatusUI
ator -> orderStatusUI: Inserts the order ID
activate orderStatusUI
orderStatusUI -> changeOrderController: changeDispatchedToBeingDelivered(productOrderID)
activate changeOrderController
changeOrderController -> productOrderRepo: findByOrderId(id)
activate productOrderRepo
productOrderRepo - -> changeOrderController: order
deactivate productOrderRepo
changeOrderController -> costumerOrder: changeDispatchedToBeingDelivered(ProductOrder.Status.BEING_DELIVERED);
activate costumerOrder
deactivate costumerOrder
changeOrderController -> productOrderRepo: save(order)
activate productOrderRepo
deactivate productOrderRepo
deactivate changeOrderController
orderStatusUI - -> ator: Informs Success
deactivate ator


@enduml

@startuml

autonumber
hide footbox

actor "Sales Clerk" as ator
participant ChangeOrderStatusToBeingDeliveredUI as orderStatusUI <<presentation>>
participant UpdateStatusToBeingPreparedController as changeOrderController <<application>>
participant PersistenceContext as persistence <<persistence>>
participant RepositoryFactory as factory <<factory>>
database ProductOrderRepository as productOrderRepo <<repository>>
participant "order:ProductOrder" as costumerOrder

activate ator

ator -> orderStatusUI: Wants to change the status of the order
activate orderStatusUI
orderStatusUI -> changeOrderController: dispatchedForCustomerDeliveryOrders()
activate changeOrderController
changeOrderController -> persistence: repositories()
activate persistence
persistence -> factory: create()
activate factory
deactivate factory
deactivate persistence
changeOrderController - -> orderStatusUI: Iterable<ProductOrderDTO>
deactivate changeOrderController
orderStatusUI - -> ator: Show orders and requests the order ID
deactivate orderStatusUI
ator -> orderStatusUI: Inserts the order ID
activate orderStatusUI
orderStatusUI -> changeOrderController: changeDispatchedToBeingDelivered(productOrderID)
activate changeOrderController
changeOrderController -> productOrderRepo: findByOrderId(id)
activate productOrderRepo
productOrderRepo - -> changeOrderController: order
deactivate productOrderRepo
changeOrderController -> costumerOrder: changeDispatchedToBeingDelivered(ProductOrder.Status.BEING_DELIVERED);
activate costumerOrder
deactivate costumerOrder
changeOrderController -> productOrderRepo: save(order)
activate productOrderRepo
deactivate productOrderRepo
deactivate changeOrderController
orderStatusUI - -> ator: Informs Success
deactivate ator


@enduml

PlantUML version 1.2022.5(Sat Apr 30 11:55:52 BST 2022)
(GPL source distribution)
Java Runtime: OpenJDK Runtime Environment
JVM: OpenJDK 64-Bit Server VM
Default Encoding: Cp1252
Language: pt
Country: PT
--></g></svg>