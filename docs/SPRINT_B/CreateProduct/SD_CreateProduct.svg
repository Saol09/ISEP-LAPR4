<?xml version="1.0" encoding="UTF-8" standalone="no"?><svg xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" contentStyleType="text/css" height="753px" preserveAspectRatio="none" style="width:3868px;height:753px;background:#FFFFFF;" version="1.1" viewBox="0 0 3868 753" width="3868px" zoomAndPan="magnify"><defs/><g><rect fill="#FFFFFF" height="645.3281" style="stroke:#181818;stroke-width:1.0;" width="10" x="54" y="92.6094"/><rect fill="#FFFFFF" height="30.3516" style="stroke:#181818;stroke-width:1.0;" width="10" x="1082" y="114.9609"/><rect fill="#FFFFFF" height="527.9219" style="stroke:#181818;stroke-width:1.0;" width="10" x="1082" y="201.0156"/><rect fill="#FFFFFF" height="506.5703" style="stroke:#181818;stroke-width:1.0;" width="10" x="2121" y="231.3672"/><rect fill="#FFFFFF" height="274.3672" style="stroke:#181818;stroke-width:1.0;" width="10" x="2126" y="424.2188"/><rect fill="#FFFFFF" height="60.3516" style="stroke:#181818;stroke-width:1.0;" width="10" x="2383" y="577.8828"/><rect fill="#FFFFFF" height="30" style="stroke:#181818;stroke-width:1.0;" width="10" x="2543" y="608.2344"/><rect fill="#FFFFFF" height="30.3516" style="stroke:#181818;stroke-width:1.0;" width="10" x="2727.5" y="305.0703"/><rect fill="#FFFFFF" height="30.3516" style="stroke:#181818;stroke-width:1.0;" width="10" x="2727.5" y="497.9219"/><rect fill="#FFFFFF" height="30" style="stroke:#181818;stroke-width:1.0;" width="10" x="2936.5" y="668.5859"/><rect height="388.2188" style="stroke:#000000;stroke-width:1.5;fill:none;" width="3851.5" x="10" y="160.3125"/><line style="stroke:#181818;stroke-width:0.5;fill:none;stroke-dasharray:5.0,5.0;" x1="59" x2="59" y1="82.6094" y2="746.9375"/><line style="stroke:#181818;stroke-width:0.5;fill:none;stroke-dasharray:5.0,5.0;" x1="1087" x2="1087" y1="82.6094" y2="746.9375"/><line style="stroke:#181818;stroke-width:0.5;fill:none;stroke-dasharray:5.0,5.0;" x1="2126" x2="2126" y1="82.6094" y2="746.9375"/><line style="stroke:#181818;stroke-width:0.5;fill:none;stroke-dasharray:5.0,5.0;" x1="2388" x2="2388" y1="82.6094" y2="746.9375"/><line style="stroke:#181818;stroke-width:0.5;fill:none;stroke-dasharray:5.0,5.0;" x1="2548" x2="2548" y1="82.6094" y2="746.9375"/><line style="stroke:#181818;stroke-width:0.5;fill:none;stroke-dasharray:5.0,5.0;" x1="2732" x2="2732" y1="82.6094" y2="746.9375"/><line style="stroke:#181818;stroke-width:0.5;fill:none;stroke-dasharray:5.0,5.0;" x1="2941" x2="2941" y1="82.6094" y2="746.9375"/><line style="stroke:#181818;stroke-width:0.5;fill:none;stroke-dasharray:5.0,5.0;" x1="3789.5" x2="3789.5" y1="537.2266" y2="746.9375"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="72" x="20" y="79.5332">Sales Clerk</text><ellipse cx="59" cy="13.5" fill="#E2E2F0" rx="8" ry="8" style="stroke:#181818;stroke-width:0.5;"/><path d="M59,21.5 L59,48.5 M46,29.5 L72,29.5 M59,48.5 L46,63.5 M59,48.5 L72,63.5 " fill="none" style="stroke:#181818;stroke-width:0.5;"/><rect fill="#E2E2F0" height="31.6094" rx="2.5" ry="2.5" style="stroke:#181818;stroke-width:0.5;" width="126" x="1024" y="50"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="112" x="1031" y="71.5332">: CreateProductUI</text><rect fill="#E2E2F0" height="31.6094" rx="2.5" ry="2.5" style="stroke:#181818;stroke-width:0.5;" width="176" x="2038" y="50"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="162" x="2045" y="71.5332">: CreateProductController</text><rect fill="#E2E2F0" height="49.2188" rx="2.5" ry="2.5" style="stroke:#181818;stroke-width:0.5;" width="144" x="2316" y="32.3906"/><text fill="#000000" font-family="sans-serif" font-size="14" font-style="italic" lengthAdjust="spacing" textLength="89" x="2343.5" y="53.9238">«persistance»</text><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="130" x="2323" y="71.5332">: PersistanceContext</text><rect fill="#E2E2F0" height="49.2188" rx="2.5" ry="2.5" style="stroke:#181818;stroke-width:0.5;" width="138" x="2479" y="32.3906"/><text fill="#000000" font-family="sans-serif" font-size="14" font-style="italic" lengthAdjust="spacing" textLength="59" x="2518.5" y="53.9238">«factory»</text><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="124" x="2486" y="71.5332">: RepositoryFactory</text><rect fill="#E2E2F0" height="31.6094" rx="2.5" ry="2.5" style="stroke:#181818;stroke-width:0.5;" width="211" x="2627" y="50"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="197" x="2634" y="71.5332">productBuilder : ProductBuilder</text><rect fill="#E2E2F0" height="49.2188" rx="2.5" ry="2.5" style="stroke:#181818;stroke-width:0.5;" width="187" x="2848" y="32.3906"/><text fill="#000000" font-family="sans-serif" font-size="14" font-style="italic" lengthAdjust="spacing" textLength="92" x="2895.5" y="53.9238">«persistencia»</text><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="173" x="2855" y="71.5332">repoProduct : RepoProduct</text><rect fill="#FFFFFF" height="645.3281" style="stroke:#181818;stroke-width:1.0;" width="10" x="54" y="92.6094"/><rect fill="#FFFFFF" height="30.3516" style="stroke:#181818;stroke-width:1.0;" width="10" x="1082" y="114.9609"/><rect fill="#FFFFFF" height="527.9219" style="stroke:#181818;stroke-width:1.0;" width="10" x="1082" y="201.0156"/><rect fill="#FFFFFF" height="506.5703" style="stroke:#181818;stroke-width:1.0;" width="10" x="2121" y="231.3672"/><rect fill="#FFFFFF" height="274.3672" style="stroke:#181818;stroke-width:1.0;" width="10" x="2126" y="424.2188"/><rect fill="#FFFFFF" height="60.3516" style="stroke:#181818;stroke-width:1.0;" width="10" x="2383" y="577.8828"/><rect fill="#FFFFFF" height="30" style="stroke:#181818;stroke-width:1.0;" width="10" x="2543" y="608.2344"/><rect fill="#FFFFFF" height="30.3516" style="stroke:#181818;stroke-width:1.0;" width="10" x="2727.5" y="305.0703"/><rect fill="#FFFFFF" height="30.3516" style="stroke:#181818;stroke-width:1.0;" width="10" x="2727.5" y="497.9219"/><rect fill="#FFFFFF" height="30" style="stroke:#181818;stroke-width:1.0;" width="10" x="2936.5" y="668.5859"/><polygon fill="#181818" points="1070,110.9609,1080,114.9609,1070,118.9609,1074,114.9609" style="stroke:#181818;stroke-width:1.0;"/><line style="stroke:#181818;stroke-width:1.0;" x1="64" x2="1076" y1="114.9609" y2="114.9609"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacing" textLength="7" x="71" y="110.1045">1</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="158" x="82" y="110.1045">Create new product for sale</text><polygon fill="#181818" points="75,141.3125,65,145.3125,75,149.3125,71,145.3125" style="stroke:#181818;stroke-width:1.0;"/><line style="stroke:#181818;stroke-width:1.0;stroke-dasharray:2.0,2.0;" x1="69" x2="1086" y1="145.3125" y2="145.3125"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacing" textLength="7" x="81" y="140.4561">2</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="983" x="92" y="140.4561">Ask for data(internalCode, photos, barcode, reference, brandName, shortDescription, extendedDescription, technicalDescription, price, productionCode, productsCategory)</text><path d="M10,160.3125 L71,160.3125 L71,168.6641 L61,178.6641 L10,178.6641 L10,160.3125 " fill="#EEEEEE" style="stroke:#000000;stroke-width:1.5;"/><rect fill="none" height="388.2188" style="stroke:#000000;stroke-width:1.5;" width="3851.5" x="10" y="160.3125"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacing" textLength="16" x="25" y="174.8076">alt</text><text fill="#000000" font-family="sans-serif" font-size="11" font-weight="bold" lengthAdjust="spacing" textLength="154" x="86" y="173.7314">[without optional attributes]</text><polygon fill="#181818" points="1070,197.0156,1080,201.0156,1070,205.0156,1074,201.0156" style="stroke:#181818;stroke-width:1.0;"/><line style="stroke:#181818;stroke-width:1.0;" x1="64" x2="1076" y1="201.0156" y2="201.0156"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacing" textLength="7" x="71" y="196.1592">3</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="61" x="82" y="196.1592">Insert data</text><polygon fill="#181818" points="2109,227.3672,2119,231.3672,2109,235.3672,2113,231.3672" style="stroke:#181818;stroke-width:1.0;"/><line style="stroke:#181818;stroke-width:1.0;" x1="1092" x2="2115" y1="231.3672" y2="231.3672"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacing" textLength="7" x="1099" y="226.5107">4</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="896" x="1110" y="226.5107">createProduct(internalCode, photos, barcode, reference, brandName, shortDescription, extendedDescription, technicalDescription, price, productsCategory)</text><line style="stroke:#181818;stroke-width:1.0;" x1="2131" x2="2173" y1="261.7188" y2="261.7188"/><line style="stroke:#181818;stroke-width:1.0;" x1="2173" x2="2173" y1="261.7188" y2="274.7188"/><line style="stroke:#181818;stroke-width:1.0;" x1="2132" x2="2173" y1="274.7188" y2="274.7188"/><polygon fill="#181818" points="2142,270.7188,2132,274.7188,2142,278.7188,2138,274.7188" style="stroke:#181818;stroke-width:1.0;"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacing" textLength="7" x="2138" y="256.8623">5</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="215" x="2149" y="256.8623">productBuilder = newProductBuilder()</text><polygon fill="#181818" points="2715.5,301.0703,2725.5,305.0703,2715.5,309.0703,2719.5,305.0703" style="stroke:#181818;stroke-width:1.0;"/><line style="stroke:#181818;stroke-width:1.0;" x1="2131" x2="2721.5" y1="305.0703" y2="305.0703"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacing" textLength="7" x="2138" y="300.2139">6</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="94" x="2149" y="300.2139">product = build()</text><polygon fill="#181818" points="3716.5,331.4219,3726.5,335.4219,3716.5,339.4219,3720.5,335.4219" style="stroke:#181818;stroke-width:1.0;"/><line style="stroke:#181818;stroke-width:1.0;" x1="2732.5" x2="3722.5" y1="335.4219" y2="335.4219"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacing" textLength="7" x="2739.5" y="330.5654">7</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="851" x="2750.5" y="330.5654">create(internalCode, photos, barcode, reference, brandName, shortDescription, extendedDescription, technicalDescription, price, productsCategory)</text><rect fill="#E2E2F0" height="31.6094" rx="2.5" ry="2.5" style="stroke:#181818;stroke-width:0.5;" width="123" x="3728.5" y="313.0703"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="109" x="3735.5" y="334.6035">product : Product</text><line style="stroke:#000000;stroke-width:1.0;stroke-dasharray:2.0,2.0;" x1="10" x2="3861.5" y1="356.6797" y2="356.6797"/><text fill="#000000" font-family="sans-serif" font-size="11" font-weight="bold" lengthAdjust="spacing" textLength="136" x="15" y="368.0986">[with optional attributes]</text><polygon fill="#181818" points="1070,389.8672,1080,393.8672,1070,397.8672,1074,393.8672" style="stroke:#181818;stroke-width:1.0;"/><line style="stroke:#181818;stroke-width:1.0;" x1="64" x2="1076" y1="393.8672" y2="393.8672"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacing" textLength="7" x="71" y="389.0107">8</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="61" x="82" y="389.0107">Insert data</text><polygon fill="#181818" points="2114,420.2188,2124,424.2188,2114,428.2188,2118,424.2188" style="stroke:#181818;stroke-width:1.0;"/><line style="stroke:#181818;stroke-width:1.0;" x1="1092" x2="2120" y1="424.2188" y2="424.2188"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacing" textLength="7" x="1099" y="419.3623">9</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="994" x="1110" y="419.3623">createProduct(internalCode, photos, barcode, reference, brandName, shortDescription, extendedDescription, technicalDescription, price, productionCode, productsCategory)</text><line style="stroke:#181818;stroke-width:1.0;" x1="2136" x2="2178" y1="454.5703" y2="454.5703"/><line style="stroke:#181818;stroke-width:1.0;" x1="2178" x2="2178" y1="454.5703" y2="467.5703"/><line style="stroke:#181818;stroke-width:1.0;" x1="2137" x2="2178" y1="467.5703" y2="467.5703"/><polygon fill="#181818" points="2147,463.5703,2137,467.5703,2147,471.5703,2143,467.5703" style="stroke:#181818;stroke-width:1.0;"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacing" textLength="14" x="2143" y="449.7139">10</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="215" x="2161" y="449.7139">productBuilder = newProductBuilder()</text><polygon fill="#181818" points="2715.5,493.9219,2725.5,497.9219,2715.5,501.9219,2719.5,497.9219" style="stroke:#181818;stroke-width:1.0;"/><line style="stroke:#181818;stroke-width:1.0;" x1="2136" x2="2721.5" y1="497.9219" y2="497.9219"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacing" textLength="14" x="2143" y="493.0654">11</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="94" x="2161" y="493.0654">product = build()</text><polygon fill="#181818" points="3716.5,524.2734,3726.5,528.2734,3716.5,532.2734,3720.5,528.2734" style="stroke:#181818;stroke-width:1.0;"/><line style="stroke:#181818;stroke-width:1.0;" x1="2732.5" x2="3722.5" y1="528.2734" y2="528.2734"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacing" textLength="14" x="2739.5" y="523.417">12</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="949" x="2757.5" y="523.417">create(internalCode, photos, barcode, reference, brandName, shortDescription, extendedDescription, technicalDescription, price, productionCode, productsCategory)</text><rect fill="#E2E2F0" height="31.6094" rx="2.5" ry="2.5" style="stroke:#181818;stroke-width:0.5;" width="123" x="3728.5" y="505.9219"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="109" x="3735.5" y="527.4551">product : Product</text><polygon fill="#181818" points="2371,573.8828,2381,577.8828,2371,581.8828,2375,577.8828" style="stroke:#181818;stroke-width:1.0;"/><line style="stroke:#181818;stroke-width:1.0;" x1="2136" x2="2377" y1="577.8828" y2="577.8828"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacing" textLength="14" x="2143" y="573.0264">13</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="187" x="2161" y="573.0264">repoProduct = repositoryFactory</text><polygon fill="#181818" points="2531,604.2344,2541,608.2344,2531,612.2344,2535,608.2344" style="stroke:#181818;stroke-width:1.0;"/><line style="stroke:#181818;stroke-width:1.0;" x1="2393" x2="2537" y1="608.2344" y2="608.2344"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacing" textLength="14" x="2400" y="603.3779">14</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="113" x="2418" y="603.3779">productRepository()</text><polygon fill="#181818" points="2924.5,664.5859,2934.5,668.5859,2924.5,672.5859,2928.5,668.5859" style="stroke:#181818;stroke-width:1.0;"/><line style="stroke:#181818;stroke-width:1.0;" x1="2136" x2="2930.5" y1="668.5859" y2="668.5859"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacing" textLength="14" x="2143" y="663.7295">15</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="77" x="2161" y="663.7295">save(product)</text><polygon fill="#181818" points="75,724.9375,65,728.9375,75,732.9375,71,728.9375" style="stroke:#181818;stroke-width:1.0;"/><line style="stroke:#181818;stroke-width:1.0;stroke-dasharray:2.0,2.0;" x1="69" x2="1086" y1="728.9375" y2="728.9375"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacing" textLength="14" x="81" y="724.0811">16</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="172" x="99" y="724.0811">Product created with success</text><!--MD5=[11e84637310fb2bf47dce3cb59782762]
@startuml

autonumber
hide footbox

actor "Sales Clerk" as ator
participant ": CreateProductUI" as ui
participant ": CreateProductController" as controller
participant ": PersistanceContext" as persistance <<persistance>>
participant ": RepositoryFactory" as factory <<factory>>
participant "productBuilder : ProductBuilder" as builder
participant "repoProduct : RepoProduct" as productRepo <<persistencia>>

activate ator

ator -> ui: Create new product for sale
activate ui

ui - -> ator: Ask for data(internalCode, photos, barcode, reference, brandName, shortDescription, extendedDescription, technicalDescription, price, productionCode, productsCategory)
deactivate ui

alt without optional attributes

ator -> ui: Insert data
activate ui


ui -> controller: createProduct(internalCode, photos, barcode, reference, brandName, shortDescription, extendedDescription, technicalDescription, price, productsCategory)

activate controller

controller -> controller : productBuilder = newProductBuilder()

controller -> builder: product = build()

activate builder

builder -> "product : Product" **: create(internalCode, photos, barcode, reference, brandName, shortDescription, extendedDescription, technicalDescription, price, productsCategory)
deactivate builder

else with optional attributes

ator -> ui: Insert data

ui -> controller: createProduct(internalCode, photos, barcode, reference, brandName, shortDescription, extendedDescription, technicalDescription, price, productionCode, productsCategory)
activate controller

controller -> controller : productBuilder = newProductBuilder()

controller -> builder: product = build()

activate builder

builder -> "product : Product" **: create(internalCode, photos, barcode, reference, brandName, shortDescription, extendedDescription, technicalDescription, price, productionCode, productsCategory)
deactivate builder

end

controller -> persistance: repoProduct = repositoryFactory
activate persistance

persistance -> factory: productRepository()
activate factory
deactivate factory
deactivate persistance



controller -> productRepo : save(product)
activate productRepo
deactivate productRepo
deactivate controller

ui - -> ator: Product created with success
deactivate ui

@enduml

PlantUML version 1.2022.4(Sat Apr 09 14:29:17 BST 2022)
(GPL source distribution)
Java Runtime: OpenJDK Runtime Environment
JVM: OpenJDK 64-Bit Server VM
Default Encoding: Cp1252
Language: pt
Country: PT
--></g></svg>